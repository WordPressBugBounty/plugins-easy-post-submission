(()=>{"use strict";var e,l={1343(e,l,t){t.d(l,{A:()=>T});var a=t(641),s=t(33),i=t(3751),o=t(953);const n={key:0,class:"rbsm-table-empty"},r={class:"rbsm-table-empty-title"},u={class:"rbsm-table-empty-desc"},c={key:1,class:"rbsm-table-wrap"},d={class:"rbsm-overflow"},v={class:"rbsm-table-row rbsm-table-row-header h5"},m={class:"rbsm-table-col is-grow"},b={class:"rbsm-table-title"},g={class:"rbsm-table-col"},p={class:"rbsm-table-col"},_={key:0,class:"rbsm-table-col rbsm-table-centered"},f={class:"rbsm-table-col rbsm-table-centered"},h={key:1,class:"rbsm-table-col rbsm-table-centered"},k={class:"rbsm-table-row"},y={class:"rbsm-table-col is-grow rbsm-post-title-col"},S=["href"],R={class:"rbsm-table-excerpt"},L={class:"rbsm-table-col"},w={class:"rbsm-table-label rbsm-category-label"},F={class:"rbsm-table-col"},K={class:"rbsm-table-label rbsm-date-label"},C={key:0,class:"rbsm-table-col rbsm-table-centered"},E={class:"rbsm-table-label rbsm-view-label"},V={class:"rbsm-table-col rbsm-table-centered"},P={key:1,class:"rbsm-table-col rbsm-post-actions-col"},x={key:0,class:"rbsm-post-pagination"},T=Object.assign({name:"userPostsContent"},{__name:"userPostContent",setup(e){const l=(0,o.KR)([]),t=(0,o.KR)(!1),T=(0,o.KR)(""),U=(0,o.KR)(!1),I=(0,o.KR)(!1),W=(0,o.KR)(""),M=(0,o.KR)(!1),X=(0,o.KR)(!1),q=(0,o.KR)(!0),A=(0,o.KR)(!1),G=(0,o.KR)(!1),D=(0,o.KR)(!1),O=(0,o.KR)(rbGlobalSubmissionSettings.translate);let Q=1,N=!1,j="",z=-1;function $(e){0===e.length&&Q--;const t=e.map(e=>{let l="",t="";return e.categories.forEach((t,a)=>{a<e.categories.length-1?l+=t+", ":l+=t}),e.tags.forEach((l,a)=>{a<e.tags.length-1?t+=l+", ":t+=l}),{title:e.title,categories:l,tags:t,date:e.date,postId:e.post_id,view:e.post_view,status:e.status,link:e.link,shortDesc:e.short_desc}});l.value=l.value.concat(t)}function J(e){q.value=e}function B(){I.value||(I.value=!0,Q++,new Promise((e,l)=>{const t=new FormData;t.append("action","rbsm_get_user_posts"),t.append("_nonce",rbGlobalSubmissionSettings.nonce),t.append("paged",Q),fetch(rbGlobalSubmissionSettings.ajaxUrl,{method:"POST",body:t}).then(e=>e.json()).then(l=>{l.success?($(l.data.user_posts),J(!l.data.is_final_page),X.value=l?.data?.should_display_post_view??!1,e()):($([]),e()),I.value=!1}).catch(e=>{I.value=!1,console.log(e),l()})}))}async function H(e,a){return new Promise((s,i)=>{const o=new FormData;o.append("action","rbsm_trash_post"),o.append("_nonce",rbGlobalSubmissionSettings.nonce),o.append("postId",e),o.append("title",a),fetch(rbGlobalSubmissionSettings.ajaxUrl,{method:"POST",body:o}).then(e=>e.json()).then(o=>{var n;o.success?(s(o.data),function(e){l.value=l.value.filter(l=>!(l=>l.postId===e)(l))}(e),n=a,t.value=!0,T.value=O.value.postDeleteSuccessfulMessage.replace("%s",n),U.value=!1):(i(""),U.value=!1)}).catch(e=>{console.log(e),U.value=!1})})}function Y(){if(D.value=!1,-1===z)return;U.value=!0;const e=l.value.find(e=>e.postId===z),t=e?e.title:"";H(z,t)}function Z(){D.value=!1,z=-1}return N=function(){let e;try{return e=window.localStorage,e.setItem("__rbStorageSet","x"),e.getItem("__rbStorageSet"),e.removeItem("__rbStorageSet"),!0}catch(e){return!1}}(),M.value=rbsmUserPostsData?.postManagerSettings?.user_profile?.allow_edit_post??!1,A.value=rbsmUserPostsData?.postManagerSettings?.user_profile?.allow_delete_post??!1,G.value=M.value||A.value,j=rbsmUserPostsData?.postManagerSettings?.edit_post_form?.edit_post_url??"",function(){const e=rbsmUserPostsData?.userPostsData??void 0;void 0!==e?($(e.user_posts),J(!e.is_final_page),X.value=e?.should_display_post_view??!1):console.log("Invalid user post data.")}(),(e,o)=>{const Q=(0,a.g2)("v-dialog"),N=(0,a.g2)("v-icon"),$=(0,a.g2)("v-snackbar"),J=(0,a.g2)("v-card-title"),H=(0,a.g2)("v-card-text"),ee=(0,a.g2)("v-btn"),le=(0,a.g2)("v-card");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(Q,{modelValue:U.value,"onUpdate:modelValue":o[0]||(o[0]=e=>U.value=e),persistent:""},null,8,["modelValue"]),(0,a.bF)($,{modelValue:t.value,"onUpdate:modelValue":o[1]||(o[1]=e=>t.value=e),class:"rbsm-snackbar",timeout:3e3},{default:(0,a.k6)(()=>[(0,a.bF)(N,{class:"pr-2"},{default:(0,a.k6)(()=>[...o[3]||(o[3]=[(0,a.eW)("mdi-delete-empty-outline",-1)])]),_:1}),(0,a.eW)(" "+(0,s.v_)(T.value),1)]),_:1},8,["modelValue"]),(0,a.bF)(Q,{class:"rbsm-popup-box",modelValue:D.value,"onUpdate:modelValue":o[2]||(o[2]=e=>D.value=e),persistent:""},{default:(0,a.k6)(()=>[(0,a.bF)(le,null,{actions:(0,a.k6)(()=>[(0,a.bF)(ee,{onClick:Y},{default:(0,a.k6)(()=>[(0,a.bF)(N,null,{default:(0,a.k6)(()=>[...o[5]||(o[5]=[(0,a.eW)("mdi-delete",-1)])]),_:1}),(0,a.eW)(" "+(0,s.v_)(O.value.delete),1)]),_:1}),(0,a.bF)(ee,{onClick:Z},{default:(0,a.k6)(()=>[(0,a.bF)(N,null,{default:(0,a.k6)(()=>[...o[6]||(o[6]=[(0,a.eW)("mdi-cancel",-1)])]),_:1}),(0,a.eW)(" "+(0,s.v_)(O.value.cancel),1)]),_:1})]),default:(0,a.k6)(()=>[(0,a.bF)(J,{class:"headline"},{default:(0,a.k6)(()=>[(0,a.bF)(N,null,{default:(0,a.k6)(()=>[...o[4]||(o[4]=[(0,a.eW)("mdi-information-outline",-1)])]),_:1}),(0,a.eW)(" "+(0,s.v_)(O.value.confirmDelete),1)]),_:1}),(0,a.bF)(H,null,{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(W.value),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),0===l.value.length?((0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(N,{"rbsm-table-empy-icon":""},{default:(0,a.k6)(()=>[...o[7]||(o[7]=[(0,a.eW)("mdi-file-document-alert-outline",-1)])]),_:1}),(0,a.Lk)("h3",r,(0,s.v_)(O.value.noPostShowTitle),1),(0,a.Lk)("p",u,(0,s.v_)(O.value.noPostShowDesc),1)])):(0,a.Q3)("v-if",!0),0!==l.value.length?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("div",d,[(0,a.Lk)("div",{class:(0,s.C4)(["rbsm-table",{"yes-view":X.value,"yes-actions":G.value}])},[(0,a.Lk)("div",v,[(0,a.Lk)("div",m,[(0,a.Lk)("div",b,[(0,a.bF)(N,null,{default:(0,a.k6)(()=>[...o[8]||(o[8]=[(0,a.eW)("mdi-file-certificate-outline",-1)])]),_:1}),(0,a.eW)(" "+(0,s.v_)(O.value.post),1)])]),(0,a.Lk)("div",g,(0,s.v_)(O.value.categories),1),(0,a.Lk)("div",p,(0,s.v_)(O.value.createdDate),1),X.value?((0,a.uX)(),(0,a.CE)("div",_,(0,s.v_)(O.value.views),1)):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",f,(0,s.v_)(O.value.status),1),G.value?((0,a.uX)(),(0,a.CE)("div",h,(0,s.v_)(O.value.actions),1)):(0,a.Q3)("v-if",!0)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.value,(e,t)=>((0,a.uX)(),(0,a.CE)("div",k,[(0,a.Lk)("div",y,[(0,a.Lk)("h6",null,["publish"===e.status?((0,a.uX)(),(0,a.CE)("a",{key:0,target:"_blank",href:e.link,class:(0,s.C4)(["rbsm-post-title","h-link","rbsm-title-is-"+e.status])},[(0,a.eW)((0,s.v_)(e.title)+" ",1),(0,a.bF)(N,null,{default:(0,a.k6)(()=>[...o[9]||(o[9]=[(0,a.eW)("mdi-open-in-new",-1)])]),_:1})],10,S)):((0,a.uX)(),(0,a.CE)("span",{key:1,class:(0,s.C4)(["rbsm-post-title","rbsm-title-is-"+e.status])},(0,s.v_)(e.title),3))]),(0,a.Lk)("p",R,(0,s.v_)(e.shortDesc),1)]),(0,a.Lk)("div",L,[(0,a.Lk)("span",w,(0,s.v_)(e.categories),1)]),(0,a.Lk)("div",F,[(0,a.Lk)("span",K,(0,s.v_)(e.date),1)]),X.value?((0,a.uX)(),(0,a.CE)("div",C,[(0,a.Lk)("span",E,(0,s.v_)(e.view),1)])):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",V,[(0,a.Lk)("span",{class:(0,s.C4)("rbsm-status rbsm-status-"+e.status)},(0,s.v_)(e.status),3)]),G.value?((0,a.uX)(),(0,a.CE)("div",P,[M.value?((0,a.uX)(),(0,a.Wv)(ee,{key:0,onClick:l=>async function(e){if(""===j)console.log("The post editing page was not configured.");else{let l=`rbsm-id=${e}`;const t=j.includes("?")?"&":"?";window.location.href=j+t+l}}(e.postId)},{default:(0,a.k6)(()=>[(0,a.bF)(N,null,{default:(0,a.k6)(()=>[...o[10]||(o[10]=[(0,a.eW)("mdi-file-edit-outline",-1)])]),_:1})]),_:1},8,["onClick"])):(0,a.Q3)("v-if",!0),A.value?((0,a.uX)(),(0,a.Wv)(ee,{key:1,disabled:"trash"===e.status,class:"rbsm-btn-red",onClick:t=>async function(e){D.value=!0;const t=l.value.find(l=>l.postId===e);t&&(W.value=O.value.confirmDeleteMessage.replace("%s",t.title),z=e)}(e.postId)},{default:(0,a.k6)(()=>[(0,a.bF)(N,null,{default:(0,a.k6)(()=>[...o[11]||(o[11]=[(0,a.eW)("mdi-file-document-remove-outline",-1)])]),_:1})]),_:1},8,["disabled","onClick"])):(0,a.Q3)("v-if",!0)])):(0,a.Q3)("v-if",!0)]))),256))],2)]),q.value?((0,a.uX)(),(0,a.CE)("div",x,[(0,a.Lk)("a",{class:"rbsm-pagination-link is-btn",onClick:B},[(0,a.eW)((0,s.v_)(O.value.morePosts)+" ",1),(0,a.bo)((0,a.bF)(N,null,{default:(0,a.k6)(()=>[...o[12]||(o[12]=[(0,a.eW)("mdi-arrow-right-thin",-1)])]),_:1},512),[[i.aG,!I.value]]),(0,a.bo)((0,a.bF)(N,{class:"rbsm-loading-icon"},{default:(0,a.k6)(()=>[...o[13]||(o[13]=[(0,a.eW)(" mdi-loading ",-1)])]),_:1},512),[[i.aG,I.value]])])])):(0,a.Q3)("v-if",!0)])):(0,a.Q3)("v-if",!0)])}}})},3134(e,l,t){var a=t(3751),s=t(641),i=t(33),o=t(953),n=t(7339),r=t(1343);const u={class:"rbsm-tab-label h4"},c={class:"rbsm-tab-label h4"},d={class:"rbsm-tab-wrapper rbsm-tab-posts-listing"},v=Object.assign({name:"postManager"},{__name:"postManager",setup(e){const l=(0,o.KR)(0),t=(0,o.KR)(!1),a=(0,o.KR)(""),v=(0,o.KR)(""),m=(0,o.KR)(!1),b=(0,o.KR)(""),g=(0,o.KR)(null),p=(0,o.KR)("show_login_message"),_=(0,o.KR)(rbGlobalSubmissionSettings.translate),f=(0,o.KR)(rbGlobalSubmissionSettings.translate.submitPost);let h=!1,k="only_logged_user";function y(){f.value=_.value.editPost}function S(){window.location.href=v.value}return(0,s.wB)(l,e=>{var l;l=e,h&&localStorage.setItem("rbsm_client_tab","string"==typeof l?l:JSON.stringify(l))}),h=function(){let e;try{return e=window.localStorage,e.setItem("__rbStorageSet","x"),e.getItem("__rbStorageSet"),e.removeItem("__rbStorageSet"),!0}catch(e){return!1}}(),rbSubmissionForm?.hasError?console.warn(rbSubmissionForm.errorMessage):rbSubmissionForm&&(function(){const e=rbSubmissionForm?.formSettings??void 0;void 0!==e?(g.value=JSON.parse(e.data),k=g.value?.user_login?.author_access??"only_logged_user",b.value=g.value?.user_login?.login_type?.login_link_label??"",v.value=g.value?.user_login?.login_type?.login_link_url??"",a.value=g.value?.user_login?.login_type?.login_message??"",p.value=g.value?.user_login?.login_type?.type??""):console.log("Cannot find submission form setting.")}(),rbSubmissionForm?.isUserLogged?m.value=!0:"only_logged_user"===k?"show_login_message"===p.value?t.value=!0:window.location.href=rbGlobalSubmissionSettings.loginUrl+`?redirect_to=${encodeURIComponent(window.location.href)}`:m.value=!0,l.value=+(rbGlobalSubmissionSettings?.tab??0),0===l.value&&(l.value=function(){if(!h)return null;const e=localStorage.getItem("rbsm_client_tab");if(null===e)return 0;try{return JSON.parse(e)}catch(l){return e}}())),(e,o)=>{const v=(0,s.g2)("v-icon"),g=(0,s.g2)("v-card-title"),p=(0,s.g2)("v-card-text"),h=(0,s.g2)("v-btn"),k=(0,s.g2)("v-card-actions"),R=(0,s.g2)("v-card"),L=(0,s.g2)("v-dialog"),w=(0,s.g2)("v-tab"),F=(0,s.g2)("v-tabs"),K=(0,s.g2)("v-tabs-window-item"),C=(0,s.g2)("v-tabs-window"),E=(0,s.g2)("v-container");return m.value?((0,s.uX)(),(0,s.Wv)(E,{key:0},{default:(0,s.k6)(()=>[(0,s.bF)(L,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=e=>t.value=e),class:"rbsm-popup-box",persistent:""},{default:(0,s.k6)(()=>[(0,s.bF)(R,null,{default:(0,s.k6)(()=>[(0,s.bF)(g,{class:"headline"},{default:(0,s.k6)(()=>[(0,s.bF)(v,null,{default:(0,s.k6)(()=>[...o[3]||(o[3]=[(0,s.eW)("mdi-lock-outline",-1)])]),_:1}),(0,s.eW)(" "+(0,i.v_)(_.value.needLogin),1)]),_:1}),(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.eW)((0,i.v_)(a.value),1)]),_:1}),(0,s.bF)(k,null,{default:(0,s.k6)(()=>[(0,s.bF)(h,{onClick:S},{default:(0,s.k6)(()=>[(0,s.eW)((0,i.v_)(b.value),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,s.bF)(F,{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=e=>l.value=e)},{default:(0,s.k6)(()=>[(0,s.bF)(w,{value:0},{default:(0,s.k6)(()=>[(0,s.Lk)("div",u,[(0,s.bF)(v,null,{default:(0,s.k6)(()=>[...o[4]||(o[4]=[(0,s.eW)("mdi-folder-file-outline",-1)])]),_:1}),(0,s.eW)(" "+(0,i.v_)(_.value.postListLabel),1)])]),_:1}),(0,s.bF)(w,{value:1},{default:(0,s.k6)(()=>[(0,s.Lk)("div",c,[(0,s.bF)(v,null,{default:(0,s.k6)(()=>[...o[5]||(o[5]=[(0,s.eW)("mdi-note-edit-outline",-1)])]),_:1}),(0,s.eW)(" "+(0,i.v_)(f.value),1)])]),_:1})]),_:1},8,["modelValue"]),(0,s.bF)(C,{modelValue:l.value,"onUpdate:modelValue":o[2]||(o[2]=e=>l.value=e),class:"rbsm-tabs-container"},{default:(0,s.k6)(()=>[(0,s.bF)(K,{value:0},{default:(0,s.k6)(()=>[(0,s.Lk)("div",d,[(0,s.bF)(r.A)])]),_:1}),(0,s.bF)(K,{value:1},{default:(0,s.k6)(()=>[(0,s.bF)(n.A,{onChangeTabLabelToEdit:y})]),_:1})]),_:1},8,["modelValue"])]),_:1})):(0,s.Q3)("v-if",!0)}}});t(2382);var m=t(8113),b=t(87),g=t(4303),p=t(6002);const _=(0,m.$N)({icons:{defaultSet:"mdi",aliases:b.z,sets:{mdi:b.r}},components:g,directives:p}),f=(0,a.Ef)(v);document.querySelector("#rbsm-post-manager")&&(f.use(_),f.mount("#rbsm-post-manager"))},3205(e,l,t){var a=t(3751),s=t(641),i=t(33);const o={key:0,class:"rbsm-login-wrap"},n={class:"rbsm-login-icon"},r={class:"headline"},u={class:"rbsm-login-desc"},c={key:0,class:"rbsm-login-wrap"},d={class:"rbsm-login-icon"},v={class:"headline"},m={class:"rbsm-login-desc"};var b=t(953);const g={name:"App",components:{submissionFormContent:t(7339).A},setup(){const e=rbGlobalSubmissionSettings.translate,l=rbGlobalSubmissionSettings.loginUrl,t=rbGlobalSubmissionSettings.registerURL,a=(0,b.KR)(!1),i=(0,b.KR)(""),o=(0,b.KR)("only_logged_user"),n=(0,b.KR)("show_login_message"),r=(0,b.KR)(null),u=(0,b.KR)(!1),c=(0,b.KR)(!1),d=(0,b.KR)(""),v=(0,b.KR)(""),m=(0,b.KR)(""),g=l=>e[l]||l,p=()=>{const e=rbSubmissionForm.formSettings;r.value=JSON.parse(e.data),o.value=r.value?.user_login?.author_access??"only_logged_user",i.value=rbGlobalSubmissionSettings.postManagerSettings?.custom_login_and_registration?.custom_login_button_label||g("login"),d.value=r.value?.user_login?.login_type?.required_login_title||g("requiredLoginTitlePattern"),v.value=r.value?.user_login?.login_type?.required_login_title_desc||g("requiredLoginDescPattern"),m.value=rbGlobalSubmissionSettings.postManagerSettings?.custom_login_and_registration?.custom_registration_button_label||g("register"),n.value=r.value?.user_login?.login_type?.type??""},_=()=>{rbSubmissionForm?.isUserLogged?u.value=!0:"only_logged_user"===o.value?"show_login_message"===n.value?u.value=!1:f():u.value=!0},f=()=>{const e=encodeURIComponent(window.location.href);window.location.href=`${l}?redirect_to=${e}`};return(0,s.sV)(()=>{rbSubmissionForm&&!rbSubmissionForm.hasError&&rbSubmissionForm.formSettings?(p(),_()):c.value=!0}),{dialog:a,loginURL:l,registerURL:t,isError:c,loginLinkLabel:i,authorAccess:o,loginType:n,formSettings:r,isRenderUI:u,requiredLoginTitle:d,requiredLoginDesc:v,registerLinkLabel:m,getFormSettings:p,checkUserLogin:_,redirectToLogin:f,getText:g,redirectToRegister:()=>{window.location.href=t}}}},p=(0,t(6262).A)(g,[["render",function(e,l,t,a,b,g){const p=(0,s.g2)("v-icon"),_=(0,s.g2)("submissionFormContent");return a.isError?((0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("span",n,[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[...l[2]||(l[2]=[(0,s.eW)("mdi-alert-circle",-1)])]),_:1})]),(0,s.Lk)("h2",r,(0,i.v_)(a.getText("error")),1),(0,s.Lk)("p",u,(0,i.v_)(a.getText("errorMessage")),1)])):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[a.isRenderUI?(0,s.Q3)("v-if",!0):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},["show_login_message"===a.loginType?((0,s.uX)(),(0,s.CE)("div",c,[(0,s.Lk)("span",d,[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[...l[3]||(l[3]=[(0,s.eW)("mdi-lock-outline",-1)])]),_:1})]),(0,s.Lk)("h2",v,(0,i.v_)(a.requiredLoginTitle),1),(0,s.Lk)("p",m,(0,i.v_)(a.requiredLoginDesc),1),(0,s.Lk)("button",{class:"rbsm-btn-primary is-btn",onClick:l[0]||(l[0]=(...e)=>a.redirectToLogin&&a.redirectToLogin(...e))},(0,i.v_)(a.loginLinkLabel),1),""!==a.registerURL?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"rbsm-btn-primary is-btn is-outlined",onClick:l[1]||(l[1]=(...e)=>a.redirectToRegister&&a.redirectToRegister(...e))},(0,i.v_)(a.registerLinkLabel),1)):(0,s.Q3)("v-if",!0)])):(0,s.Q3)("v-if",!0)],64)),a.isRenderUI?((0,s.uX)(),(0,s.Wv)(_,{key:1})):(0,s.Q3)("v-if",!0)],64))}]]);t(2382);var _=t(8113),f=t(87),h=t(4303),k=t(6002);const y=(0,_.$N)({icons:{defaultSet:"mdi",aliases:f.z,sets:{mdi:f.r}},components:h,directives:k}),S=(0,a.Ef)(p);document.querySelector("#rbsm-form-shortcode")&&(S.use(y),S.mount("#rbsm-form-shortcode"))},6007(e,l,t){var a=t(3751),s=t(641),i=t(33);const o={key:0,class:"rbsm-login-wrap"},n={class:"rbsm-login-icon"},r={class:"headline"},u={class:"rbsm-login-desc"};var c=t(953);const d={name:"userPosts",components:{userPostsContent:t(1343).A},setup(){const e=rbGlobalSubmissionSettings.translate,l=rbGlobalSubmissionSettings.loginUrl,t=rbGlobalSubmissionSettings.registerURL,a=(0,c.KR)(!1),i=(0,c.KR)(""),o=(0,c.KR)(""),n=(0,c.KR)(""),r=(0,c.KR)(""),u=(0,c.KR)(!1),d=l=>e[l]||l,v=()=>{const e=encodeURIComponent(window.location.href);window.location.href=`${l}?redirect_to=${e}`};return(0,s.sV)(()=>{(()=>{a.value=rbsmUserPostsData?.isUserLogged??0;const e=rbsmUserPostsData?.postManagerSettings?.user_profile?.login_action_choice??"show_login_message";rbsmUserPostsData?.isUserLogged||("show_login_message"===e?(u.value=!0,i.value=rbsmUserPostsData?.postManagerSettings?.user_profile?.user_posts_required_login_title??d("userPostsRequiredLoginTitlePattern"),o.value=rbsmUserPostsData?.postManagerSettings?.user_profile?.user_posts_required_login_message??d("userPostsRequiredLoginMessagePattern"),n.value=rbsmUserPostsData?.postManagerSettings?.custom_login_and_registration?.custom_login_button_label??d("login"),r.value=rbsmUserPostsData?.postManagerSettings?.custom_login_and_registration?.custom_registration_button_label??d("register")):v())})()}),{isRenderUI:a,translate:e,requiredLoginTitle:i,requiredLoginDesc:o,loginLinkLabel:n,registerLinkLabel:r,registerURL:t,loginURL:l,showLoginMessage:u,redirectToLogin:v,redirectToRegister:()=>{window.location.href=t}}}},v=(0,t(6262).A)(d,[["render",function(e,l,t,a,c,d){const v=(0,s.g2)("v-icon"),m=(0,s.g2)("userPostsContent");return a.isRenderUI?((0,s.uX)(),(0,s.Wv)(m,{key:1})):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[a.showLoginMessage?((0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("span",n,[(0,s.bF)(v,null,{default:(0,s.k6)(()=>[...l[2]||(l[2]=[(0,s.eW)("mdi-lock-outline",-1)])]),_:1})]),(0,s.Lk)("h2",r,(0,i.v_)(a.requiredLoginTitle),1),(0,s.Lk)("p",u,(0,i.v_)(a.requiredLoginDesc),1),(0,s.Lk)("button",{class:"rbsm-btn-primary is-btn",onClick:l[0]||(l[0]=(...e)=>a.redirectToLogin&&a.redirectToLogin(...e))},(0,i.v_)(a.loginLinkLabel),1),""!==a.registerURL?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"rbsm-btn-primary is-btn is-outlined",onClick:l[1]||(l[1]=(...e)=>a.redirectToRegister&&a.redirectToRegister(...e))},(0,i.v_)(a.registerLinkLabel),1)):(0,s.Q3)("v-if",!0)])):(0,s.Q3)("v-if",!0)],64))}]]);t(2382);var m=t(8113),b=t(87),g=t(4303),p=t(6002);const _=(0,m.$N)({icons:{defaultSet:"mdi",aliases:b.z,sets:{mdi:b.r}},components:g,directives:p}),f=(0,a.Ef)(v);document.querySelector("#rbsm-user-posts")&&(f.use(_),f.mount("#rbsm-user-posts"))},7339(e,l,t){t.d(l,{A:()=>$});var a=t(641),s=t(33),i=t(953),o=t(3751),n=t(2508),r=t(3117),u=t.n(r);const c=["data-callback","data-sitekey"],d={name:"recaptchaContent",props:{siteKey:{type:String,required:!0},shouldLoadRecaptcha:{type:Boolean,required:!1}},setup(e,{emit:l}){const t=(0,i.KR)(null),s=rbGlobalSubmissionSettings.translate;(0,a.wB)(()=>e.shouldLoadRecaptcha,e=>{e&&o()}),(0,a.sV)(()=>{e.shouldLoadRecaptcha&&o()});const o=()=>{if(document.getElementById("recaptcha-script"))n().then(()=>r());else{const e=document.createElement("script");e.id="recaptcha-script",e.src="https://www.google.com/recaptcha/api.js?render=explicit",e.onload=()=>n().then(()=>r()),e.async=!0,e.defer=!0,document.head.appendChild(e)}},n=()=>new Promise((e,l)=>{const t=setInterval(()=>{"undefined"!=typeof grecaptcha&&"function"==typeof grecaptcha.render&&(clearInterval(t),e())},50);setTimeout(()=>{clearInterval(t),l(s["recaptchaLoadFailed"]||"recaptchaLoadFailed")},5e3)}),r=()=>{""!==e.siteKey&&"undefined"!=typeof grecaptcha&&(t.value=grecaptcha.render(document.querySelector(".g-recaptcha"),{sitekey:e.siteKey,callback:u,"expired-callback":c}))},u=e=>{l("verified",e)},c=()=>{l("data-expired-callback")};return{recaptchaInstance:t,loadRecaptcha:o,resetRecaptcha:()=>{null!==t.value&&"undefined"!=typeof grecaptcha&&grecaptcha.reset(t.value)},onVerify:u}}},v=(0,t(6262).A)(d,[["render",function(e,l,t,s,i,o){return(0,a.uX)(),(0,a.CE)("div",{"data-callback":s.onVerify,"data-sitekey":t.siteKey,class:"g-recaptcha"},null,8,c)}]]),m={key:0,class:"text-error"},b={class:"rbsm-form-main rbsm-form-list"},g={key:0,class:"rbsm-input-wrap"},p={class:"rbsm-input-title"},_={class:"rbsm-input-hind"},f={key:1,class:"rbsm-input-wrap"},h={class:"rbsm-input-title"},k={class:"rbsm-input-hind"},y={key:2,class:"rbsm-input-wrap"},S={class:"rbsm-input-title"},R={class:"rbsm-input-hind"},L={key:3,class:"rbsm-input-wrap"},w={class:"rbsm-input-title"},F={class:"rbsm-input-hind"},K={class:"rbsm-input-wrap"},C={class:"rbsm-input-title"},E={class:"rbsm-input-hind"},V={id:"editorContainer"},P={id:"richEditorContainer"},x={class:"rbsm-form-sidebar"},T={class:"rbsm-form-list rbsm-form-border-wrap"},U={key:0,class:"rbsm-input-wrap"},I={class:"rbsm-input-title"},W={class:"rbsm-input-hind"},M={key:1,class:"rbsm-input-wrap"},X={class:"rbsm-input-title"},q={class:"rbsm-input-hind"},A={key:2,class:"rbsm-input-wrap"},G={class:"rbsm-input-title"},D={class:"rbsm-input-hind"},O={class:"rbsm-input-wrap"},Q={class:"rbsm-input-title"},N={class:"rbsm-form-footer rbsm-form-list"},j={class:"rbsm-from-submit"},z=["disabled"],$=Object.assign({name:"submissionFormContent"},{__name:"submissionFormContent",emits:["change-tab-label-to-edit"],setup(e,{emit:l}){const t=l,r=(0,i.KR)([]),c=(0,i.KR)(""),d=(0,i.KR)(""),$=(0,i.KR)(""),J=(0,i.KR)([]),B=(0,i.KR)(""),H=(0,i.KR)(""),Y=(0,i.KR)(!1),Z=(0,i.KR)(""),ee=(0,i.KR)([]),le=(0,i.KR)([]),te=(0,i.KR)([]),ae=(0,i.KR)(""),se=(0,i.KR)(""),ie=(0,i.KR)(100),oe=(0,i.KR)(null),ne=(0,i.KR)(""),re=(0,i.KR)(""),ue=(0,i.KR)(""),ce=(0,i.KR)(""),de=(0,i.KR)(0),ve=((0,i.KR)(""),(0,i.KR)("")),me=(0,i.KR)([]),be=(0,i.KR)(!1),ge=(0,i.KR)(!1),pe=(0,i.KR)(!1),_e=(0,i.KR)(null),fe=(0,i.KR)(!1),he=(0,i.KR)([]),ke=(0,i.KR)(!1),ye=(0,i.KR)(!1),Se=(0,i.KR)(!1),Re=(0,i.KR)([]),Le=(0,i.KR)(""),we=(0,i.KR)(!1),Fe=(0,i.KR)(""),Ke=(0,i.KR)(!1),Ce=(0,i.KR)(!1),Ee=(0,i.KR)(!1),Ve=(0,i.KR)(!1),Pe=(0,i.KR)(!1),xe=(0,i.KR)(!1),Te=(0,i.KR)(!0),Ue=(0,i.KR)(!1),Ie=(0,i.KR)(!1),We=(0,i.KR)(!1),Me=(0,i.KR)(void 0),Xe=(0,i.KR)("rbsm-failed-snackbar"),qe=(0,i.KR)(!1),Ae=(0,i.KR)(rbGlobalSubmissionSettings.translate),Ge=(0,i.KR)(rbGlobalSubmissionSettings.translate.chooseFeaturedImage),De=(0,i.KR)(rbGlobalSubmissionSettings.translate.submitPostLabel),Oe=(0,i.KR)(null),Qe=(0,i.KR)(null),Ne=(0,i.KR)(""),je=(0,i.KR)(null),ze=(0,i.KR)(null),$e=(0,i.KR)(null),Je=(0,i.KR)(null),Be=(0,i.KR)(!1);let He=null,Ye=null,Ze=!1,el=null,ll="",tl="",al=!1,sl=!0,il=!1,ol=rbGlobalSubmissionSettings.isRTL,nl={title:(0,i.KR)(!0),excerpt:(0,i.KR)(!0),userName:(0,i.KR)(!0),userEmail:(0,i.KR)(!0),challenge:e=>!!e||rbGlobalSubmissionSettings.translate.challengeRequiredInput};const rl=(e="")=>{const l={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#039;":"'"};return"string"!=typeof e?e:e.replace(/(&amp;|&lt;|&gt;|&quot;|&#039;)/g,e=>l[e]||e)};function ul(e){return Ae.value[e]||e}function cl(e,l){if(!Ze)return null;const t=localStorage.getItem(e);if(null===t)return l;try{return JSON.parse(t)}catch(e){return t}}function dl(e){Ze&&localStorage.removeItem(e)}function vl(){const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.style.display="none",e.addEventListener("change",e=>{const l=e.target.files[0];if(l){const e=new FileReader;e.onload=e=>{const l=e.target.result;He.root.focus;const t=He.getSelection();if(t){const e=t.index;e>=0&&e<=He.getLength()?ml(l)?He.getContents().ops.reduce((e,l)=>l.insert&&l.insert.image?e+1:e,0)<de.value?He.insertEmbed(e,"image",l):yl({title:Ae.value.maxAmountImages,message:Ae.value.maxAmountImagesMessage.replace("%s",de.value),icon:"mdi-alert"}):yl({title:Ae.value.imageSizeLimitTitle,message:Ae.value.imageSizeLimitMessage.replace("%s",ie.value),icon:"mdi-alert"}):console.warn(Ae.value.invalidIndexToInsertImage)}else console.warn(Ae.value.noSelection)},e.readAsDataURL(l)}}),document.body.appendChild(e),e.click(),document.body.removeChild(e)}function ml(e){return 1024*ie.value>=3*((l=e).length-l.indexOf(",")-1)/4;var l}async function bl(){const e=await async function(){let e=[];if(null!==Qe.value){const l=await Qe.value.validate();!0!==nl.title&&0!==l.length&&e.push(Ae.value.title)}if(null!==je.value){const l=await je.value.validate();!0!==nl.excerpt&&0!==l.length&&e.push(Ae.value.excerpt)}if(null!==ze.value){const l=await ze.value.validate();!0!==nl.userName&&0!==l.length&&e.push(Ae.value.userName)}if(null!==$e.value){const l=await $e.value.validate();!0!==nl.userEmail&&0!==l.length&&e.push(Ae.value.userEmail)}if(e.length>0){let l="";return l=1===e.length?e[0]+" "+Ae.value.isMissing:e.join(", ")+" "+Ae.value.areMissing,{status:!1,message:l}}return{status:!0}}();if(!e.status)return l=e.message,Xe.value="rbsm-failed-snackbar",ue.value=l,void(Y.value=!0);var l;if(fe.value&&!sl)return void kl(Ae.value.verifyFailedRecaptchaMessage);if(ke.value&&Te.value&&(Ue.value=!0),Te.value)return;if(!sl)return void kl(Ae.value.verifyFailedRecaptchaMessage);if(!(He.root.querySelectorAll("img").length<=de.value))return void yl({title:Ae.value.maxAmountImages,message:Ae.value.maxAmountImagesMessage.replace("%s",de.value),icon:"mdi-alert"});if(!function(){const e=He.getContents().ops.filter(e=>e?.insert?.image);for(let l=0;l<e.length;l++)if(!ml(e[l]?.insert?.image))return!1;return!0}())return Ne.value="is-error",void yl({title:Ae.value.imageSizeLimitTitle,message:Ae.value.imageSizeLimitMessage.replace("%s",ie.value),icon:"mdi-alert"});Ie.value=!0,Ve.value=!0,De.value=al?Ae.value.updating:Ae.value.submitting;const t=hl(),a={title:c.value,excerpt:$.value,categories:"string"==typeof me.value||Number.isInteger(me.value)?[me.value]:me.value,tags:"string"==typeof ee.value?[ee.value]:ee.value,content:d.value,formId:rbSubmissionForm.formId,customFieldsData:t,postId:Ye,isRemoveFeaturedImage:Ee.value,userName:ae.value,userEmail:re.value,recaptchaResponse:tl,challengeResponse:ne.value},s=null===Ye?"rbsm_submit_post":"rbsm_update_post",i=new FormData;i.append("image",_e.value),i.append("action",s),i.append("excerpt",a.excerpt),i.append("content",a.content),i.append("formId",a.formId),i.append("customFieldsData",JSON.stringify(a.customFieldsData)),a.tags.forEach(function(e){i.append("tags[]",e)}),a.categories.forEach(function(e){i.append("categories[]",e)}),i.append("postId",a.postId),i.append("isRemoveFeaturedImage",a.isRemoveFeaturedImage),i.append("userName",a.userName),i.append("userEmail",a.userEmail),i.append("recaptchaResponse",a.recaptchaResponse),i.append("challengeResponse",a.challengeResponse),i.append("title",a.title),i.append("_nonce",rbGlobalSubmissionSettings.nonce);try{const e=await fetch(rbGlobalSubmissionSettings.ajaxUrl,{headers:{"X-WP-Nonce":rbGlobalSubmissionSettings.nonce},method:"POST",body:i}),l=await e.json();if(l.success)gl(),function(){let e=al?Ae.value.updatePostSuccessMessage.replace("%s",c.value):Ae.value.submitPostSuccessMessage.replace("%s",c.value);const l={title:al?Ae.value.updatePostSuccessTitle:Ae.value.submitPostSuccessTitle,message:e,icon:"mdi-content-save-check-outline"};Ne.value="is-success",yl(l)}(),""!==le.value.general_setting.url_direction&&(il=!0),al||dl(Fe.value),Ze=!1,Be.value=!1;else{gl();const e=l.data||"";e.includes("Challenge answer is incorrect")||e.includes("Please answer the challenge question")?(qe.value=!0,Ue.value=!0):kl(e),Kl(),fe.value&&(sl=!1)}}catch(e){gl(),kl(e),Kl(),fe.value&&(sl=!1)}}function gl(){Ie.value=!1,Ve.value=!1,De.value=al?Ae.value.updatePostLabel:Ae.value.submitPostLabel}function pl(){const e=_e.value?_e.value:null;if(e){Ee.value=!1;const l=new FileReader;l.onload=e=>{oe.value=e.target.result,_l()},l.onerror=e=>{console.log(e)},l.readAsDataURL(e)}else oe.value=null;_l()}function _l(){Ge.value=""===oe.value||null===oe.value?Ae.value.chooseFeaturedImage:Ae.value.editFeaturedImage}function fl(e){te.value.forEach((l,t)=>{l.field_type=l.field_type.toLowerCase();const a=e.findIndex(e=>e.type===l.field_type);-1!==a&&(he.value[t+"_"+l.field_type]=e[a].content,e.splice(a,1))})}function hl(){const e=[];return te.value.forEach((l,t)=>{l.field_type=l.field_type.toLowerCase(),e.push({content:he.value[t+"_"+l.field_type],label:l.custom_field_label,name:l.custom_field_name,type:l.field_type})}),e}function kl(e){const l={title:al?Ae.value.updatePostFailedTitle:Ae.value.submitPostFailedTitle,message:e,icon:"mdi-alert-circle-outline",className:"is-error"};Ne.value="is-error",yl(l)}function yl({title:e,message:l,icon:t}){Z.value=e,se.value=l,be.value=!0,H.value=t}function Sl(){be.value=!1,il&&(il=!1,window.location.href=le.value.general_setting.url_direction)}function Rl(){oe.value=null,_l(),Ee.value=!0}function Ll(e){sl=!0,tl=e}function wl(){sl=!1}function Fl(){Ue.value=!1,Te.value=!1,qe.value=!1,bl()}function Kl(){null!==Je.value&&Je.value.resetRecaptcha()}function Cl(){qe.value=!1,ne.value=""}function El(){me.value=[]}function Vl(){ee.value=[]}function Pl(e){if(Be.value)return e.preventDefault(),e.returnValue="",""}return(0,a.sV)(()=>{Re.value["1_col"]="rbsm-form-col1",Re.value["2_cols"]="rbsm-form-col2",Re.value[""]="",function(){const e=rbSubmissionForm?.formSettings??void 0;void 0!==e?(le.value=JSON.parse(e.data),de.value=le.value?.form_fields?.max_images??3,ie.value=le.value?.form_fields?.max_image_size??100,B.value=le.value?.form_fields?.editor_type??"rich_editor",B.value=B.value.toLowerCase().replace(" ","_"),Se.value="disable"!==le.value?.form_fields?.post_title,We.value="disable"!==le.value?.form_fields?.featured_image?.status,we.value="disable"!==le.value?.form_fields?.tagline,Ke.value="disable"!==le.value?.form_fields?.user_name,Ce.value="disable"!==le.value?.form_fields?.user_email,Pe.value=le.value?.allow_categories??!0,pe.value=le.value?.allow_tags??!0,ge.value=le.value?.form_fields?.tags?.allow_add_new_tag??!1,xe.value=le.value?.form_fields?.categories?.multiple_categories??!1,ye.value=le.value?.form_fields?.tags?.multiple_tags??!1,te.value=le.value?.form_fields?.custom_field??[],fe.value=rbGlobalSubmissionSettings?.postManagerSettings?.recaptcha?.enable_for_forms??!1,ll=rbGlobalSubmissionSettings?.postManagerSettings?.recaptcha?.site_key??"",ke.value=le.value?.security_fields?.challenge?.status??!1,ve.value=le.value?.security_fields?.challenge?.question??"",Le.value=le.value?.general_setting?.form_layout_type??"2_cols",ce.value=Re.value[Le.value]??"",sl=!fe.value,Te.value=ke.value,rbSubmissionForm?.isUserLogged&&(Ke.value=!1,Ce.value=!1)):console.log("Error: Cannot find submission form setting.")}(),Pe.value&&(rbSubmissionForm?.categories??[]).forEach(e=>{J.value.push({title:rl(e.name),value:e.term_id})}),pe.value&&(rbSubmissionForm?.tags??[]).forEach(e=>{r.value.push(rl(e.name))}),function(){const e=ol?"rtl":"ltr";n.Ay.register("modules/htmlEditButton",u()),He=new n.Ay("#editor",{theme:"snow",placeholder:Ae.value.textAreaFormPlaceholder,modules:{htmlEditButton:{debug:!1,msg:"Edit the content in HTML format",okText:"Ok",cancelText:"Cancel",buttonHTML:'<svg viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>',buttonTitle:"Show HTML source",syntax:!1,prependSelector:"div#myelement",editorModules:{}},toolbar:{container:"rich_editor"===B.value?[[{header:[2,3,4,5,6,!1]}],de.value>0?["image","bold","italic","underline","strike"]:["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","blockquote","code-block"],[{align:[]}],[{indent:"-1"},{indent:"+1"}],[{direction:e}]]:[],handlers:{image:vl}}}}),He.on("text-change",()=>{d.value=He.root.innerHTML})}(),function(){if(Array.isArray(rbGlobalSubmissionSettings?.userPost)&&rbGlobalSubmissionSettings.userPost.length>0){Be.value=!0;const e=rbGlobalSubmissionSettings.userPost;Ye=e[0]?.post_id??null,c.value=Se.value?e[0]?.title:"",$.value=we.value?e[0]?.excerpt:"",d.value=e[0]?.content,d.value=function(e){let l=e.replace(/<p>\s*(<br\s*\/?>\s*)*<\/p>/g,"");return l=l.replace(/<figure[^>]*>(.*?)<\/figure>/g,"$1"),l.trim()}(d.value??"");const l=Array.isArray(e[0]?.categories)?e[0].categories:[],a=J.value.map(e=>e.value);me.value=l.filter(e=>a.includes(e)),ee.value=Array.isArray(e[0]?.tags)?e[0].tags.map(e=>e):[],Ye=e[0]?.post_id||null,ae.value=Ke.value?e[0]?.user_name:"",re.value=Ce.value?e[0]?.user_email:"",function(e,l){if(oe.value=(t=e,[...t.matchAll(/<img[^>]+src="([^">]+)"/g)].map(e=>e[1]))[0]??"",""!==oe.value){_e.value={};const e=/\/([^\/]+\.[a-zA-Z]{2,})$/,t=oe.value.match(e);t&&(_e.value.name=t[1],_e.value.size=l)}var t}(e[0]?.featured_image??"",e[0]?.featured_image_size??0),fl(e[0]?.custom_fields??[]),He.root.innerHTML=d.value,De.value=Ae.value.updatePostLabel,al=!0,t("change-tab-label-to-edit")}else Fe.value="rbsm_client_user_post",Me.value=cl(Fe.value,void 0),function(){let e;try{if(e=cl(Fe.value,void 0),null==e)return}catch(e){return void dl(Fe.value)}Array.isArray(e?.categories??"")||(e.categories=[e.categories]),c.value=e?.title??"",$.value=e?.excerpt??"",d.value=e?.content??"",me.value=Array.isArray(e?.categories)?e.categories.map(e=>e):[],ee.value=Array.isArray(e?.tags)?e.tags.map(e=>e):[],ae.value=e?.userName??"",re.value=e?.userEmail??"",fl(e.custom_fields),He.root.innerHTML=d.value,null!==Ye&&(De.value=Ae.value.updatePostLabel,al=!0)}();_l()}(),nl.title="require"!==le.value?.form_fields?.post_title||(e=>!!e||Ae.value.titleRequiredRule),nl.excerpt="require"!==le.value?.form_fields?.tagline||(e=>!!e||Ae.value.excerptRequiredRule),nl.userName="require"!==le.value?.form_fields?.user_name||(e=>!!e||Ae.value.userNameRequiredRule),nl.userEmail="require"!==le.value?.form_fields?.user_email||(e=>!!e||Ae.value.userEmailRequiredRule),el=setInterval(()=>{try{!function(){const e={title:c.value,excerpt:$.value,content:d.value,categories:"string"==typeof me.value?[me.value]:me.value,tags:"string"==typeof ee.value?[ee.value]:ee.value,userName:ae.value,userEmail:re.value,custom_fields:hl()};var l,t;l=Fe.value,t=JSON.stringify(e),Ze&&localStorage.setItem(l,"string"==typeof t?t:JSON.stringify(t))}()}catch(e){clearInterval(el)}},5e3)}),Ze=function(){let e;try{return e=window.localStorage,e.setItem("__rbStorageSet","x"),e.getItem("__rbStorageSet"),e.removeItem("__rbStorageSet"),!0}catch(e){return!1}}(),window.addEventListener("beforeunload",Pl),(0,a.xo)(()=>{window.removeEventListener("beforeunload",Pl),el&&clearInterval(el)}),(e,l)=>{const t=(0,a.g2)("v-icon"),n=(0,a.g2)("v-snackbar"),u=(0,a.g2)("v-card-title"),le=(0,a.g2)("v-card-text"),ie=(0,a.g2)("v-btn"),de=(0,a.g2)("v-card-actions"),ke=(0,a.g2)("v-card"),Re=(0,a.g2)("v-dialog"),Le=(0,a.g2)("v-text-field"),Fe=(0,a.g2)("v-textarea"),Ee=(0,a.g2)("v-autocomplete"),Te=(0,a.g2)("v-combobox"),Me=(0,a.g2)("v-img"),Be=(0,a.g2)("v-file-input"),He=(0,a.g2)("v-form"),Ye=(0,a.g2)("v-progress-circular"),Ze=(0,a.g2)("v-container");return(0,a.uX)(),(0,a.Wv)(Ze,{class:"rbsm-snackbar-container"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{modelValue:Y.value,"onUpdate:modelValue":l[0]||(l[0]=e=>Y.value=e),class:(0,s.C4)([Xe.value]),timeout:3e3},{default:(0,a.k6)(()=>[(0,a.bF)(t,{class:"pr-2"},{default:(0,a.k6)(()=>[...l[13]||(l[13]=[(0,a.eW)("mdi-alert-outline",-1)])]),_:1}),(0,a.eW)(" "+(0,s.v_)(ue.value),1)]),_:1},8,["modelValue","class"]),(0,a.bF)(Re,{modelValue:be.value,"onUpdate:modelValue":l[1]||(l[1]=e=>be.value=e),class:(0,s.C4)([Ne.value,"rbsm-popup-box"]),persistent:""},{default:(0,a.k6)(()=>[(0,a.bF)(ke,null,{default:(0,a.k6)(()=>[(0,a.bF)(u,null,{default:(0,a.k6)(()=>[(0,a.bF)(t,null,{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(H.value?H.value:e.mdiAlertCircleCheckOutline),1)]),_:1}),(0,a.eW)(" "+(0,s.v_)(Z.value),1)]),_:1}),(0,a.bF)(le,null,{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(se.value),1)]),_:1}),(0,a.bF)(de,null,{default:(0,a.k6)(()=>[(0,a.bF)(ie,{text:ul("ok"),onClick:Sl},null,8,["text"])]),_:1})]),_:1})]),_:1},8,["modelValue","class"]),(0,a.bF)(Re,{modelValue:Ue.value,"onUpdate:modelValue":[l[3]||(l[3]=e=>Ue.value=e),Cl],class:"rbsm-popup-box"},{default:(0,a.k6)(()=>[(0,a.bF)(ke,null,{default:(0,a.k6)(()=>[(0,a.bF)(u,null,{default:(0,a.k6)(()=>[(0,a.bF)(t,null,{default:(0,a.k6)(()=>[...l[14]||(l[14]=[(0,a.eW)("mdi-progress-question",-1)])]),_:1}),(0,a.eW)(" "+(0,s.v_)(ul("challengeTitle")),1)]),_:1}),(0,a.bF)(le,null,{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(ul("challengeLabel"))+" "+(0,s.v_)(ve.value),1)]),_:1}),(0,a.bF)(Le,{modelValue:ne.value,"onUpdate:modelValue":l[2]||(l[2]=e=>ne.value=e),rules:[(0,i.R1)(nl).challenge],label:"Answer",variant:"outlined"},null,8,["modelValue","rules"]),qe.value?((0,a.uX)(),(0,a.CE)("span",m,(0,s.v_)(ul("invalidAnswer")),1)):(0,a.Q3)("v-if",!0),(0,a.bF)(de,null,{default:(0,a.k6)(()=>[(0,a.bF)(ie,{class:"is-btn",onClick:Fl},{default:(0,a.k6)(()=>[(0,a.eW)((0,s.v_)(Ae.value.submitPostLabel)+" ",1),(0,a.bF)(t,null,{default:(0,a.k6)(()=>[...l[15]||(l[15]=[(0,a.eW)("mdi-arrow-right-thin",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,a.Lk)("div",{class:(0,s.C4)(["rbsm-form-wrap",ce.value])},[(0,a.Lk)("div",b,[Ke.value?((0,a.uX)(),(0,a.CE)("div",g,[(0,a.Lk)("h2",p,(0,s.v_)(ul("yourName")),1),(0,a.Lk)("p",_,(0,s.v_)(ul("hindYourName")),1),(0,a.bF)(Le,{ref_key:"userNameTextRef",ref:ze,modelValue:ae.value,"onUpdate:modelValue":l[4]||(l[4]=e=>ae.value=e),label:ul("yourName"),rules:[(0,i.R1)(nl).userName],variant:"outlined"},null,8,["modelValue","label","rules"])])):(0,a.Q3)("v-if",!0),Ce.value?((0,a.uX)(),(0,a.CE)("div",f,[(0,a.Lk)("h2",h,(0,s.v_)(ul("yourEmail")),1),(0,a.Lk)("p",k,(0,s.v_)(ul("hindYourEmail")),1),(0,a.bF)(Le,{ref_key:"userEmailTextRef",ref:$e,modelValue:re.value,"onUpdate:modelValue":l[5]||(l[5]=e=>re.value=e),label:ul("yourEmail"),rules:[(0,i.R1)(nl).userEmail],variant:"outlined"},null,8,["modelValue","label","rules"])])):(0,a.Q3)("v-if",!0),Se.value?((0,a.uX)(),(0,a.CE)("div",y,[(0,a.Lk)("h2",S,(0,s.v_)(ul("addPostTitle")),1),(0,a.Lk)("p",R,(0,s.v_)(ul("hindPostTitle")),1),(0,a.bF)(Le,{ref_key:"titleTextRef",ref:Qe,modelValue:c.value,"onUpdate:modelValue":l[6]||(l[6]=e=>c.value=e),label:ul("addPostTitle"),rules:[(0,i.R1)(nl).title],"validate-on-blur":!0,variant:"outlined"},null,8,["modelValue","label","rules"])])):(0,a.Q3)("v-if",!0),we.value?((0,a.uX)(),(0,a.CE)("div",L,[(0,a.Lk)("h2",w,(0,s.v_)(ul("addPostExcerpt")),1),(0,a.Lk)("p",F,(0,s.v_)(ul("hindPostExcerpt")),1),(0,a.bF)(Le,{ref_key:"excerptTextRef",ref:je,modelValue:$.value,"onUpdate:modelValue":l[7]||(l[7]=e=>$.value=e),label:ul("addPostExcerpt"),rules:[(0,i.R1)(nl).excerpt],variant:"outlined"},null,8,["modelValue","label","rules"])])):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",K,[(0,a.Lk)("h2",C,[(0,a.bF)(t,null,{default:(0,a.k6)(()=>[...l[16]||(l[16]=[(0,a.eW)("mdi-pencil-ruler-outline",-1)])]),_:1}),(0,a.eW)(" "+(0,s.v_)(ul("addPostContent")),1)]),(0,a.Lk)("p",E,(0,s.v_)(ul("hindPostContent")),1),(0,a.Lk)("div",V,[(0,a.bo)((0,a.Lk)("div",P,[...l[17]||(l[17]=[(0,a.Lk)("div",{id:"editor"},null,-1)])],512),[[o.aG,"rich_editor"===B.value]]),"raw_html"===B.value?((0,a.uX)(),(0,a.Wv)(Fe,{key:0,id:"rbTextAreaEditor",modelValue:d.value,"onUpdate:modelValue":l[8]||(l[8]=e=>d.value=e),label:ul("textAreaFormPlaceholder"),rows:"25",variant:"outlined"},null,8,["modelValue","label"])):(0,a.Q3)("v-if",!0)])])]),(0,a.Lk)("div",x,[(0,a.Lk)("div",T,[Pe.value?((0,a.uX)(),(0,a.CE)("div",U,[(0,a.Lk)("h2",I,(0,s.v_)(ul("titlePostCategories")),1),(0,a.Lk)("p",W,(0,s.v_)(ul("hindPostCategories")),1),(0,a.bF)(Ee,{modelValue:me.value,"onUpdate:modelValue":l[9]||(l[9]=e=>me.value=e),items:J.value,label:ul("choosePostCategories"),multiple:xe.value,title:c.value,chips:"",clearable:"",variant:"outlined","onClick:clear":El},null,8,["modelValue","items","label","multiple","title"])])):(0,a.Q3)("v-if",!0),pe.value?((0,a.uX)(),(0,a.CE)("div",M,[(0,a.Lk)("h2",X,(0,s.v_)(ul("titlePostTags")),1),(0,a.Lk)("p",q,(0,s.v_)(ul("hindPostTags")),1),ge.value?((0,a.uX)(),(0,a.Wv)(Te,{key:0,modelValue:ee.value,"onUpdate:modelValue":l[10]||(l[10]=e=>ee.value=e),items:r.value,label:ul("addPostTags"),multiple:ye.value,chips:"",clearable:"",variant:"outlined","onClick:clear":Vl},null,8,["modelValue","items","label","multiple"])):(0,a.Q3)("v-if",!0),ge.value?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.Wv)(Ee,{key:1,modelValue:ee.value,"onUpdate:modelValue":l[11]||(l[11]=e=>ee.value=e),items:r.value,label:ul("choosePostTags"),multiple:ye.value,chips:"",clearable:"",variant:"outlined"},null,8,["modelValue","items","label","multiple"]))])):(0,a.Q3)("v-if",!0),We.value?((0,a.uX)(),(0,a.CE)("div",A,[(0,a.Lk)("h2",G,[(0,a.bF)(t,null,{default:(0,a.k6)(()=>[...l[18]||(l[18]=[(0,a.eW)("mdi-image-outline",-1)])]),_:1}),(0,a.eW)(" "+(0,s.v_)(ul("titlePostFeatured")),1)]),(0,a.Lk)("p",D,(0,s.v_)(ul("hindPostFeatured")),1),(0,a.bF)(He,{ref_key:"form",ref:Oe},{default:(0,a.k6)(()=>[(0,a.Q3)(" Image preview "),oe.value?((0,a.uX)(),(0,a.Wv)(Me,{key:0,src:oe.value},null,8,["src"])):(0,a.Q3)("v-if",!0),(0,a.bF)(Be,{modelValue:_e.value,"onUpdate:modelValue":l[12]||(l[12]=e=>_e.value=e),label:Ge.value,"show-size":1e3,accept:"image/*",density:"compact","prepend-icon":"mdi-image-plus-outline",variant:"outlined",onChange:pl,"onClick:clear":Rl},null,8,["modelValue","label"])]),_:1},512)])):(0,a.Q3)("v-if",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(te.value,(e,i)=>((0,a.uX)(),(0,a.CE)("div",O,[(0,a.Lk)("h2",Q,[(0,a.bF)(t,null,{default:(0,a.k6)(()=>[...l[19]||(l[19]=[(0,a.eW)("mdi-tag-edit-outline",-1)])]),_:1}),(0,a.eW)(" "+(0,s.v_)(e.custom_field_label),1)]),"text"===e.field_type?((0,a.uX)(),(0,a.Wv)(Le,{key:0,modelValue:he.value[i+"_text"],"onUpdate:modelValue":e=>he.value[i+"_text"]=e,density:"compact",label:"Type anything",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue"])):(0,a.Q3)("v-if",!0),"textarea"===e.field_type?((0,a.uX)(),(0,a.Wv)(Fe,{key:1,modelValue:he.value[i+"_textarea"],"onUpdate:modelValue":e=>he.value[i+"_textarea"]=e,label:"Message",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue"])):(0,a.Q3)("v-if",!0),"upload"===e.field_type?((0,a.uX)(),(0,a.Wv)(Be,{key:2,modelValue:he.value[i+"_upload"],"onUpdate:modelValue":e=>he.value[i+"_upload"]=e,density:"compact",label:"Upload file",outlined:"",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue"])):(0,a.Q3)("v-if",!0)]))),256))])]),(0,a.Lk)("div",N,[fe.value?((0,a.uX)(),(0,a.Wv)(v,{key:0,ref_key:"recaptchaComponent",ref:Je,shouldLoadRecaptcha:fe.value,siteKey:(0,i.R1)(ll),onVerified:Ll,onDataExpiredCallback:wl},null,8,["shouldLoadRecaptcha","siteKey"])):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",j,[(0,a.Lk)("button",{disabled:Ve.value,class:"rbsm-submit-btn rbsm-btn-primary is-btn",onClick:bl},[(0,a.eW)((0,s.v_)(De.value)+" ",1),(0,a.bF)(t,null,{default:(0,a.k6)(()=>[...l[20]||(l[20]=[(0,a.eW)("mdi-arrow-right-thin",-1)])]),_:1})],8,z),(0,a.bo)((0,a.bF)(Ye,{indeterminate:"",size:"26"},null,512),[[o.aG,Ie.value]])])])],2)]),_:1})}}})},9459(e,l,t){var a=t(3751),s=t(641);const i={name:"editSubmissionForm",components:{submissionFormContent:t(7339).A},setup:()=>((0,s.sV)(()=>{}),{})},o=(0,t(6262).A)(i,[["render",function(e,l,t,a,i,o){const n=(0,s.g2)("submissionFormContent");return(0,s.uX)(),(0,s.Wv)(n)}]]);t(2382);var n=t(8113),r=t(87),u=t(4303),c=t(6002);const d=(0,n.$N)({icons:{defaultSet:"mdi",aliases:r.z,sets:{mdi:r.r}},components:u,directives:c}),v=(0,a.Ef)(o);document.querySelector("#rbsm-post-editing")&&(v.use(d),v.mount("#rbsm-post-editing"))},9878(e,l,t){var a=t(3751),s=t(641),i=t(33);const o={key:0,class:"rbsm-login-wrap"},n={class:"rbsm-login-icon"},r={class:"headline"},u={class:"rbsm-login-desc"};var c=t(953);const d={name:"login",setup(){const e=rbGlobalSubmissionSettings.translate,l=(0,c.KR)(""),t=(0,c.KR)(""),a=(0,c.KR)(""),i=(0,c.KR)(""),o=(0,c.KR)(!1),n=rbGlobalSubmissionSettings.loginUrl,r=rbGlobalSubmissionSettings.registerURL,u=l=>e[l]||l,d=()=>{const e=encodeURIComponent(window.location.href);window.location.href=`${n}?redirect_to=${e}`};return(0,s.sV)(()=>{"show_login_message"===(rbGlobalSubmissionSettings?.postManagerSettings?.edit_post_form?.login_action_choice??"show_login_message")?(o.value=!0,l.value=rbGlobalSubmissionSettings?.postManagerSettings?.edit_post_form?.edit_post_required_login_title||u("editPostRequiredLoginTitlePattern"),t.value=rbGlobalSubmissionSettings?.postManagerSettings?.edit_post_form?.edit_post_required_login_message||u("editPostRequiredLoginMessagePattern"),a.value=rbGlobalSubmissionSettings?.postManagerSettings?.custom_login_and_registration?.custom_login_button_label||u("login"),i.value=rbGlobalSubmissionSettings.postManagerSettings?.custom_login_and_registration?.custom_registration_button_label||u("register")):d()}),{requiredLoginTitle:l,requiredLoginDesc:t,loginLinkLabel:a,registerLinkLabel:i,showLoginMessage:o,registerURL:r,loginURL:n,redirectToLogin:d,redirectToRegister:()=>{window.location.href=r}}}},v=(0,t(6262).A)(d,[["render",function(e,l,t,a,c,d){const v=(0,s.g2)("v-icon");return a.showLoginMessage?((0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("span",n,[(0,s.bF)(v,null,{default:(0,s.k6)(()=>[...l[2]||(l[2]=[(0,s.eW)("mdi-lock-outline",-1)])]),_:1})]),(0,s.Lk)("h2",r,(0,i.v_)(a.requiredLoginTitle),1),(0,s.Lk)("p",u,(0,i.v_)(a.requiredLoginDesc),1),(0,s.Lk)("button",{class:"rbsm-btn-primary is-btn",onClick:l[0]||(l[0]=(...e)=>a.redirectToLogin&&a.redirectToLogin(...e))},(0,i.v_)(a.loginLinkLabel),1),""!==a.registerURL?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"rbsm-btn-primary is-btn is-outlined",onClick:l[1]||(l[1]=(...e)=>a.redirectToRegister&&a.redirectToRegister(...e))},(0,i.v_)(a.registerLinkLabel),1)):(0,s.Q3)("v-if",!0)])):(0,s.Q3)("v-if",!0)}]]);t(2382);var m=t(8113),b=t(87),g=t(4303),p=t(6002);const _=(0,m.$N)({icons:{defaultSet:"mdi",aliases:b.z,sets:{mdi:b.r}},components:g,directives:p}),f=(0,a.Ef)(v);document.querySelector("#rbsm-login")&&(f.use(_),f.mount("#rbsm-login"))}},t={};function a(e){var s=t[e];if(void 0!==s)return s.exports;var i=t[e]={id:e,loaded:!1,exports:{}};return l[e](i,i.exports,a),i.loaded=!0,i.exports}a.m=l,e=[],a.O=(l,t,s,i)=>{if(!t){var o=1/0;for(c=0;c<e.length;c++){for(var[t,s,i]=e[c],n=!0,r=0;r<t.length;r++)(!1&i||o>=i)&&Object.keys(a.O).every(e=>a.O[e](t[r]))?t.splice(r--,1):(n=!1,i<o&&(o=i));if(n){e.splice(c--,1);var u=s();void 0!==u&&(l=u)}}return l}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[t,s,i]},a.n=e=>{var l=e&&e.__esModule?()=>e.default:()=>e;return a.d(l,{a:l}),l},a.d=(e,l)=>{for(var t in l)a.o(l,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:l[t]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={818:0};a.O.j=l=>0===e[l];var l=(l,t)=>{var s,i,[o,n,r]=t,u=0;if(o.some(l=>0!==e[l])){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(r)var c=r(a)}for(l&&l(t);u<o.length;u++)i=o[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},t=self.webpackChunkeasy_post_submission=self.webpackChunkeasy_post_submission||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))})(),a.O(void 0,[121],()=>a(3205)),a.O(void 0,[121],()=>a(3134)),a.O(void 0,[121],()=>a(9459)),a.O(void 0,[121],()=>a(6007));var s=a.O(void 0,[121],()=>a(9878));s=a.O(s)})();