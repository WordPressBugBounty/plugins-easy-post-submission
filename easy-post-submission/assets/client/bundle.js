(()=>{"use strict";var e,l={9459:(e,l,t)=>{var a=t(3751),s=t(641);const i={name:"editSubmissionForm",components:{submissionFormContent:t(8794).A},setup:()=>((0,s.sV)((()=>{})),{})},o=(0,t(6262).A)(i,[["render",function(e,l,t,a,i,o){const n=(0,s.g2)("submissionFormContent");return(0,s.uX)(),(0,s.Wv)(n)}]]);t(2382);var n=t(4825),r=t(1050),u=t(2041),c=t(1130);const d=(0,n.$N)({icons:{defaultSet:"mdi",aliases:r.z,sets:{mdi:r.r}},components:u,directives:c}),v=(0,a.Ef)(o);document.querySelector("#rbsm-post-editing")&&(v.use(d),v.mount("#rbsm-post-editing"))},9878:(e,l,t)=>{var a=t(3751),s=t(641),i=t(33);const o={key:0,class:"rbsm-login-wrap"},n={class:"rbsm-login-icon"},r={class:"headline"},u={class:"rbsm-login-desc"};var c=t(953);const d={name:"login",setup(){const e=rbGlobalSubmissionSettings.translate,l=(0,c.KR)(""),t=(0,c.KR)(""),a=(0,c.KR)(""),i=(0,c.KR)(""),o=(0,c.KR)(!1),n=rbGlobalSubmissionSettings.loginUrl,r=rbGlobalSubmissionSettings.registerURL,u=l=>e[l]||l,d=()=>{const e=encodeURIComponent(window.location.href);window.location.href=`${n}?redirect_to=${e}`};return(0,s.sV)((()=>{"show_login_message"===(rbGlobalSubmissionSettings?.postManagerSettings?.edit_post_form?.login_action_choice??"show_login_message")?(o.value=!0,l.value=rbGlobalSubmissionSettings?.postManagerSettings?.edit_post_form?.edit_post_required_login_title||u("editPostRequiredLoginTitlePattern"),t.value=rbGlobalSubmissionSettings?.postManagerSettings?.edit_post_form?.edit_post_required_login_message||u("editPostRequiredLoginMessagePattern"),a.value=rbGlobalSubmissionSettings?.postManagerSettings?.custom_login_and_registration?.custom_login_button_label||u("login"),i.value=rbGlobalSubmissionSettings.postManagerSettings?.custom_login_and_registration?.custom_registration_button_label||u("register")):d()})),{requiredLoginTitle:l,requiredLoginDesc:t,loginLinkLabel:a,registerLinkLabel:i,showLoginMessage:o,registerURL:r,loginURL:n,redirectToLogin:d,redirectToRegister:()=>{window.location.href=r}}}},v=(0,t(6262).A)(d,[["render",function(e,l,t,a,c,d){const v=(0,s.g2)("v-icon");return a.showLoginMessage?((0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("span",n,[(0,s.bF)(v,null,{default:(0,s.k6)((()=>l[2]||(l[2]=[(0,s.eW)("mdi-lock-outline")]))),_:1})]),(0,s.Lk)("h2",r,(0,i.v_)(a.requiredLoginTitle),1),(0,s.Lk)("p",u,(0,i.v_)(a.requiredLoginDesc),1),(0,s.Lk)("button",{class:"rbsm-btn-primary is-btn",onClick:l[0]||(l[0]=(...e)=>a.redirectToLogin&&a.redirectToLogin(...e))},(0,i.v_)(a.loginLinkLabel),1),""!==a.registerURL?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"rbsm-btn-primary is-btn is-outlined",onClick:l[1]||(l[1]=(...e)=>a.redirectToRegister&&a.redirectToRegister(...e))},(0,i.v_)(a.registerLinkLabel),1)):(0,s.Q3)("v-if",!0)])):(0,s.Q3)("v-if",!0)}]]);t(2382);var m=t(4825),b=t(1050),g=t(2041),p=t(1130);const _=(0,m.$N)({icons:{defaultSet:"mdi",aliases:b.z,sets:{mdi:b.r}},components:g,directives:p}),f=(0,a.Ef)(v);document.querySelector("#rbsm-login")&&(f.use(_),f.mount("#rbsm-login"))},1453:(e,l,t)=>{var a=t(3751),s=t(641),i=t(33);const o={key:0,class:"rbsm-login-wrap"},n={class:"rbsm-login-icon"},r={class:"headline"},u={class:"rbsm-login-desc"},c={key:0,class:"rbsm-login-wrap"},d={class:"rbsm-login-icon"},v={class:"headline"},m={class:"rbsm-login-desc"};var b=t(953);const g={name:"App",components:{submissionFormContent:t(8794).A},setup(){const e=rbGlobalSubmissionSettings.translate,l=rbGlobalSubmissionSettings.loginUrl,t=rbGlobalSubmissionSettings.registerURL,a=(0,b.KR)(!1),i=(0,b.KR)(""),o=(0,b.KR)("only_logged_user"),n=(0,b.KR)("show_login_message"),r=(0,b.KR)(null),u=(0,b.KR)(!1),c=(0,b.KR)(!1),d=(0,b.KR)(""),v=(0,b.KR)(""),m=(0,b.KR)(""),g=l=>e[l]||l,p=()=>{const e=rbSubmissionForm.formSettings;r.value=JSON.parse(e.data),o.value=r.value?.user_login?.author_access??"only_logged_user",i.value=rbGlobalSubmissionSettings.postManagerSettings?.custom_login_and_registration?.custom_login_button_label||g("login"),d.value=r.value?.user_login?.login_type?.required_login_title||g("requiredLoginTitlePattern"),v.value=r.value?.user_login?.login_type?.required_login_title_desc||g("requiredLoginDescPattern"),m.value=rbGlobalSubmissionSettings.postManagerSettings?.custom_login_and_registration?.custom_registration_button_label||g("register"),n.value=r.value?.user_login?.login_type.type??""},_=()=>{rbSubmissionForm?.isUserLogged?u.value=!0:"only_logged_user"===o.value?"show_login_message"===n.value?u.value=!1:f():u.value=!0},f=()=>{const e=encodeURIComponent(window.location.href);window.location.href=`${l}?redirect_to=${e}`};return(0,s.sV)((()=>{rbSubmissionForm&&!rbSubmissionForm.hasError&&rbSubmissionForm.formSettings?(p(),_()):c.value=!0})),{dialog:a,loginURL:l,registerURL:t,isError:c,loginLinkLabel:i,authorAccess:o,loginType:n,formSettings:r,isRenderUI:u,requiredLoginTitle:d,requiredLoginDesc:v,registerLinkLabel:m,getFormSettings:p,checkUserLogin:_,redirectToLogin:f,getText:g,redirectToRegister:()=>{window.location.href=t}}}},p=(0,t(6262).A)(g,[["render",function(e,l,t,a,b,g){const p=(0,s.g2)("v-icon"),_=(0,s.g2)("submissionFormContent");return a.isError?((0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("span",n,[(0,s.bF)(p,null,{default:(0,s.k6)((()=>l[2]||(l[2]=[(0,s.eW)("mdi-alert-circle")]))),_:1})]),(0,s.Lk)("h2",r,(0,i.v_)(a.getText("error")),1),(0,s.Lk)("p",u,(0,i.v_)(a.getText("errorMessage")),1)])):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[a.isRenderUI?(0,s.Q3)("v-if",!0):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},["show_login_message"===a.loginType?((0,s.uX)(),(0,s.CE)("div",c,[(0,s.Lk)("span",d,[(0,s.bF)(p,null,{default:(0,s.k6)((()=>l[3]||(l[3]=[(0,s.eW)("mdi-lock-outline")]))),_:1})]),(0,s.Lk)("h2",v,(0,i.v_)(a.requiredLoginTitle),1),(0,s.Lk)("p",m,(0,i.v_)(a.requiredLoginDesc),1),(0,s.Lk)("button",{class:"rbsm-btn-primary is-btn",onClick:l[0]||(l[0]=(...e)=>a.redirectToLogin&&a.redirectToLogin(...e))},(0,i.v_)(a.loginLinkLabel),1),""!==a.registerURL?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"rbsm-btn-primary is-btn is-outlined",onClick:l[1]||(l[1]=(...e)=>a.redirectToRegister&&a.redirectToRegister(...e))},(0,i.v_)(a.registerLinkLabel),1)):(0,s.Q3)("v-if",!0)])):(0,s.Q3)("v-if",!0)],64)),a.isRenderUI?((0,s.uX)(),(0,s.Wv)(_,{key:1})):(0,s.Q3)("v-if",!0)],64))}]]);t(2382);var _=t(4825),f=t(1050),k=t(2041),h=t(1130);const y=(0,_.$N)({icons:{defaultSet:"mdi",aliases:f.z,sets:{mdi:f.r}},components:k,directives:h}),R=(0,a.Ef)(p);document.querySelector("#rbsm-form-shortcode")&&(R.use(y),R.mount("#rbsm-form-shortcode"))},3134:(e,l,t)=>{var a=t(3751),s=t(641),i=t(33),o=t(953),n=t(8794);const r={class:"rbsm-tab-label h4"},u={class:"rbsm-tab-label h4"},c={class:"rbsm-tab-wrapper rbsm-tab-posts-listing"},d=Object.assign({name:"postManager"},{__name:"postManager",setup(e){const l=(0,o.KR)(0),t=(0,o.KR)(!1),a=(0,o.KR)(""),d=(0,o.KR)(""),v=(0,o.KR)(!1),m=(0,o.KR)(""),b=(0,o.KR)(null),g=(0,o.KR)("show_login_message"),p=(0,o.KR)(rbGlobalSubmissionSettings.translate),_=(0,o.KR)(rbGlobalSubmissionSettings.translate.submitPost);let f=!1,k="only_logged_user";function h(){_.value=p.value.editPost}function y(){window.location.href=d.value}return(0,s.wB)(l,(e=>{var l;l=e,f&&localStorage.setItem("rbsm_client_tab","string"==typeof l?l:JSON.stringify(l))})),f=function(){let e;try{return e=window.localStorage,e.setItem("__rbStorageSet","x"),e.getItem("__rbStorageSet"),e.removeItem("__rbStorageSet"),!0}catch(e){return!1}}(),rbSubmissionForm.hasError?console.warn(rbSubmissionForm.errorMessage):(function(){const e=rbSubmissionForm?.formSettings??void 0;void 0!==e?(b.value=JSON.parse(e.data),k=b.value?.user_login?.author_access??"only_logged_user",m.value=b.value?.user_login?.login_type?.login_link_label??"",d.value=b.value?.user_login?.login_type?.login_link_url??"",a.value=b.value?.user_login?.login_type?.login_message??"",g.value=b.value?.user_login?.login_type?.type??""):console.log("Cannot find submission form setting.")}(),rbSubmissionForm?.isUserLogged?v.value=!0:"only_logged_user"===k?"show_login_message"===g.value?t.value=!0:window.location.href=rbGlobalSubmissionSettings.loginUrl+`?redirect_to=${encodeURIComponent(window.location.href)}`:v.value=!0,l.value=+rbGlobalSubmissionSettings?.tab??0,0===l.value&&(l.value=function(){if(!f)return null;const e=localStorage.getItem("rbsm_client_tab");if(null===e)return 0;try{return JSON.parse(e)}catch(l){return e}}())),(e,o)=>{const d=(0,s.g2)("v-icon"),b=(0,s.g2)("v-card-title"),g=(0,s.g2)("v-card-text"),f=(0,s.g2)("v-btn"),k=(0,s.g2)("v-card-actions"),R=(0,s.g2)("v-card"),S=(0,s.g2)("v-dialog"),L=(0,s.g2)("v-tab"),w=(0,s.g2)("v-tabs"),F=(0,s.g2)("v-tabs-window-item"),K=(0,s.g2)("v-tabs-window"),C=(0,s.g2)("v-container");return v.value?((0,s.uX)(),(0,s.Wv)(C,{key:0},{default:(0,s.k6)((()=>[(0,s.bF)(S,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=e=>t.value=e),class:"rbsm-popup-box",persistent:""},{default:(0,s.k6)((()=>[(0,s.bF)(R,null,{default:(0,s.k6)((()=>[(0,s.bF)(b,{class:"headline"},{default:(0,s.k6)((()=>[(0,s.bF)(d,null,{default:(0,s.k6)((()=>o[3]||(o[3]=[(0,s.eW)("mdi-lock-outline")]))),_:1}),(0,s.eW)(" "+(0,i.v_)(p.value.needLogin),1)])),_:1}),(0,s.bF)(g,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,i.v_)(a.value),1)])),_:1}),(0,s.bF)(k,null,{default:(0,s.k6)((()=>[(0,s.bF)(f,{onClick:y},{default:(0,s.k6)((()=>[(0,s.eW)((0,i.v_)(m.value),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.bF)(w,{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=e=>l.value=e)},{default:(0,s.k6)((()=>[(0,s.bF)(L,{value:0},{default:(0,s.k6)((()=>[(0,s.Lk)("div",r,[(0,s.bF)(d,null,{default:(0,s.k6)((()=>o[4]||(o[4]=[(0,s.eW)("mdi-folder-file-outline")]))),_:1}),(0,s.eW)(" "+(0,i.v_)(p.value.postListLabel),1)])])),_:1}),(0,s.bF)(L,{value:1},{default:(0,s.k6)((()=>[(0,s.Lk)("div",u,[(0,s.bF)(d,null,{default:(0,s.k6)((()=>o[5]||(o[5]=[(0,s.eW)("mdi-note-edit-outline")]))),_:1}),(0,s.eW)(" "+(0,i.v_)(_.value),1)])])),_:1})])),_:1},8,["modelValue"]),(0,s.bF)(K,{modelValue:l.value,"onUpdate:modelValue":o[2]||(o[2]=e=>l.value=e),class:"rbsm-tabs-container"},{default:(0,s.k6)((()=>[(0,s.bF)(F,{value:0},{default:(0,s.k6)((()=>[(0,s.Lk)("div",c,[(0,s.bF)(n.A)])])),_:1}),(0,s.bF)(F,{value:1},{default:(0,s.k6)((()=>[(0,s.bF)(n.A,{onChangeTabLabelToEdit:h})])),_:1})])),_:1},8,["modelValue"])])),_:1})):(0,s.Q3)("v-if",!0)}}});t(2382);var v=t(4825),m=t(1050),b=t(2041),g=t(1130);const p=(0,v.$N)({icons:{defaultSet:"mdi",aliases:m.z,sets:{mdi:m.r}},components:b,directives:g}),_=(0,a.Ef)(d);document.querySelector("#rbsm-post-manager")&&(_.use(p),_.mount("#rbsm-post-manager"))},8924:(e,l,t)=>{var a=t(3751),s=t(641),i=t(33);const o={key:0,class:"rbsm-login-wrap"},n={class:"rbsm-login-icon"},r={class:"headline"},u={class:"rbsm-login-desc"};var c=t(953);const d={key:0,class:"rbsm-table-empty"},v={class:"rbsm-table-empty-title"},m={class:"rbsm-table-empty-desc"},b={key:1,class:"rbsm-table-wrap"},g={class:"rbsm-overflow"},p={class:"rbsm-table-row rbsm-table-row-header h5"},_={class:"rbsm-table-col is-grow"},f={class:"rbsm-table-title"},k={class:"rbsm-table-col"},h={class:"rbsm-table-col"},y={key:0,class:"rbsm-table-col rbsm-table-centered"},R={class:"rbsm-table-col rbsm-table-centered"},S={key:1,class:"rbsm-table-col rbsm-table-centered"},L={class:"rbsm-table-row"},w={class:"rbsm-table-col is-grow rbsm-post-title-col"},F=["href"],K={class:"rbsm-table-excerpt"},C={class:"rbsm-table-col"},E={class:"rbsm-table-label rbsm-category-label"},V={class:"rbsm-table-col"},x={class:"rbsm-table-label rbsm-date-label"},P={key:0,class:"rbsm-table-col rbsm-table-centered"},T={class:"rbsm-table-label rbsm-view-label"},U={class:"rbsm-table-col rbsm-table-centered"},I={key:1,class:"rbsm-table-col rbsm-post-actions-col"},W={key:0,class:"rbsm-post-pagination"},X=Object.assign({name:"userPostsContent"},{__name:"userPostContent",setup(e){const l=(0,c.KR)([]),t=(0,c.KR)(!1),o=(0,c.KR)(""),n=(0,c.KR)(!1),r=(0,c.KR)(!1),u=(0,c.KR)(""),X=(0,c.KR)(!1),M=(0,c.KR)(!1),q=(0,c.KR)(!0),A=(0,c.KR)(!1),G=(0,c.KR)(!1),D=(0,c.KR)(!1),O=(0,c.KR)(rbGlobalSubmissionSettings.translate);let Q=1,N=!1,j="",z=-1;function $(e){0===e.length&&Q--;const t=e.map((e=>{let l="",t="";return e.categories.forEach(((t,a)=>{a<e.categories.length-1?l+=t+", ":l+=t})),e.tags.forEach(((l,a)=>{a<e.tags.length-1?t+=l+", ":t+=l})),{title:e.title,categories:l,tags:t,date:e.date,postId:e.post_id,view:e.post_view,status:e.status,link:e.link,shortDesc:e.short_desc}}));l.value=l.value.concat(t)}function J(e){q.value=e}function B(){r.value||(r.value=!0,Q++,new Promise(((e,l)=>{const t=new FormData;t.append("action","rbsm_get_user_posts"),t.append("_nonce",rbGlobalSubmissionSettings.nonce),t.append("paged",Q),fetch(rbGlobalSubmissionSettings.ajaxUrl,{method:"POST",body:t}).then((e=>e.json())).then((l=>{l.success?($(l.data.user_posts),J(!l.data.is_final_page),M.value=l?.data?.should_display_post_view??!1,e()):($([]),e()),r.value=!1})).catch((e=>{r.value=!1,console.log(e),l()}))})))}async function H(e,a){return new Promise(((s,i)=>{const r=new FormData;r.append("action","rbsm_trash_post"),r.append("_nonce",rbGlobalSubmissionSettings.nonce),r.append("postId",e),r.append("title",a),fetch(rbGlobalSubmissionSettings.ajaxUrl,{method:"POST",body:r}).then((e=>e.json())).then((r=>{var u;r.success?(s(r.data),function(e){l.value=l.value.filter((l=>!(l=>l.postId===e)(l)))}(e),u=a,t.value=!0,o.value=O.value.postDeleteSuccessfulMessage.replace("%s",u),n.value=!1):(i(""),n.value=!1)})).catch((e=>{console.log(e),n.value=!1}))}))}function Y(){if(D.value=!1,-1===z)return;n.value=!0;const e=l.value.find((e=>e.postId===z)),t=e?e.title:"";H(z,t)}function Z(){D.value=!1,z=-1}return N=function(){let e;try{return e=window.localStorage,e.setItem("__rbStorageSet","x"),e.getItem("__rbStorageSet"),e.removeItem("__rbStorageSet"),!0}catch(e){return!1}}(),X.value=rbsmUserPostsData?.postManagerSettings?.user_profile?.allow_edit_post??!1,A.value=rbsmUserPostsData?.postManagerSettings?.user_profile?.allow_delete_post??!1,G.value=X.value||A.value,j=rbsmUserPostsData?.postManagerSettings?.edit_post_form?.edit_post_url??"",function(){const e=rbsmUserPostsData?.userPostsData??void 0;void 0!==e?($(e.user_posts),J(!e.is_final_page),M.value=e?.should_display_post_view??!1):console.log("Invalid user post data.")}(),(e,c)=>{const Q=(0,s.g2)("v-dialog"),N=(0,s.g2)("v-icon"),$=(0,s.g2)("v-snackbar"),J=(0,s.g2)("v-card-title"),H=(0,s.g2)("v-card-text"),ee=(0,s.g2)("v-btn"),le=(0,s.g2)("v-card");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)(Q,{modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=e=>n.value=e),persistent:""},null,8,["modelValue"]),(0,s.bF)($,{modelValue:t.value,"onUpdate:modelValue":c[1]||(c[1]=e=>t.value=e),class:"rbsm-snackbar",timeout:3e3},{default:(0,s.k6)((()=>[(0,s.bF)(N,{class:"pr-2"},{default:(0,s.k6)((()=>c[3]||(c[3]=[(0,s.eW)("mdi-delete-empty-outline")]))),_:1}),(0,s.eW)(" "+(0,i.v_)(o.value),1)])),_:1},8,["modelValue"]),(0,s.bF)(Q,{class:"rbsm-popup-box",modelValue:D.value,"onUpdate:modelValue":c[2]||(c[2]=e=>D.value=e),persistent:""},{default:(0,s.k6)((()=>[(0,s.bF)(le,null,{actions:(0,s.k6)((()=>[(0,s.bF)(ee,{onClick:Y},{default:(0,s.k6)((()=>[(0,s.bF)(N,null,{default:(0,s.k6)((()=>c[5]||(c[5]=[(0,s.eW)("mdi-delete")]))),_:1}),(0,s.eW)(" "+(0,i.v_)(O.value.delete),1)])),_:1}),(0,s.bF)(ee,{onClick:Z},{default:(0,s.k6)((()=>[(0,s.bF)(N,null,{default:(0,s.k6)((()=>c[6]||(c[6]=[(0,s.eW)("mdi-cancel")]))),_:1}),(0,s.eW)(" "+(0,i.v_)(O.value.cancel),1)])),_:1})])),default:(0,s.k6)((()=>[(0,s.bF)(J,{class:"headline"},{default:(0,s.k6)((()=>[(0,s.bF)(N,null,{default:(0,s.k6)((()=>c[4]||(c[4]=[(0,s.eW)("mdi-information-outline")]))),_:1}),(0,s.eW)(" "+(0,i.v_)(O.value.confirmDelete),1)])),_:1}),(0,s.bF)(H,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,i.v_)(u.value),1)])),_:1})])),_:1})])),_:1},8,["modelValue"]),0===l.value.length?((0,s.uX)(),(0,s.CE)("div",d,[(0,s.bF)(N,{"rbsm-table-empy-icon":""},{default:(0,s.k6)((()=>c[7]||(c[7]=[(0,s.eW)("mdi-file-document-alert-outline")]))),_:1}),(0,s.Lk)("h3",v,(0,i.v_)(O.value.noPostShowTitle),1),(0,s.Lk)("p",m,(0,i.v_)(O.value.noPostShowDesc),1)])):(0,s.Q3)("v-if",!0),0!==l.value.length?((0,s.uX)(),(0,s.CE)("div",b,[(0,s.Lk)("div",g,[(0,s.Lk)("div",{class:(0,i.C4)(["rbsm-table",{"yes-view":M.value,"yes-actions":G.value}])},[(0,s.Lk)("div",p,[(0,s.Lk)("div",_,[(0,s.Lk)("div",f,[(0,s.bF)(N,null,{default:(0,s.k6)((()=>c[8]||(c[8]=[(0,s.eW)("mdi-file-certificate-outline")]))),_:1}),(0,s.eW)(" "+(0,i.v_)(O.value.post),1)])]),(0,s.Lk)("div",k,(0,i.v_)(O.value.categories),1),(0,s.Lk)("div",h,(0,i.v_)(O.value.createdDate),1),M.value?((0,s.uX)(),(0,s.CE)("div",y,(0,i.v_)(O.value.views),1)):(0,s.Q3)("v-if",!0),(0,s.Lk)("div",R,(0,i.v_)(O.value.status),1),G.value?((0,s.uX)(),(0,s.CE)("div",S,(0,i.v_)(O.value.actions),1)):(0,s.Q3)("v-if",!0)]),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.value,((e,t)=>((0,s.uX)(),(0,s.CE)("div",L,[(0,s.Lk)("div",w,[(0,s.Lk)("h6",null,["publish"===e.status?((0,s.uX)(),(0,s.CE)("a",{key:0,target:"_blank",href:e.link,class:(0,i.C4)(["rbsm-post-title","h-link","rbsm-title-is-"+e.status])},[(0,s.eW)((0,i.v_)(e.title)+" ",1),(0,s.bF)(N,null,{default:(0,s.k6)((()=>c[9]||(c[9]=[(0,s.eW)("mdi-open-in-new")]))),_:1})],10,F)):((0,s.uX)(),(0,s.CE)("span",{key:1,class:(0,i.C4)(["rbsm-post-title","rbsm-title-is-"+e.status])},(0,i.v_)(e.title),3))]),(0,s.Lk)("p",K,(0,i.v_)(e.shortDesc),1)]),(0,s.Lk)("div",C,[(0,s.Lk)("span",E,(0,i.v_)(e.categories),1)]),(0,s.Lk)("div",V,[(0,s.Lk)("span",x,(0,i.v_)(e.date),1)]),M.value?((0,s.uX)(),(0,s.CE)("div",P,[(0,s.Lk)("span",T,(0,i.v_)(e.view),1)])):(0,s.Q3)("v-if",!0),(0,s.Lk)("div",U,[(0,s.Lk)("span",{class:(0,i.C4)("rbsm-status rbsm-status-"+e.status)},(0,i.v_)(e.status),3)]),G.value?((0,s.uX)(),(0,s.CE)("div",I,[X.value?((0,s.uX)(),(0,s.Wv)(ee,{key:0,onClick:l=>async function(e){if(""===j)console.log("The post editing page was not configured.");else{let l=`rbsm-id=${e}`;const t=j.includes("?")?"&":"?";window.location.href=j+t+l}}(e.postId)},{default:(0,s.k6)((()=>[(0,s.bF)(N,null,{default:(0,s.k6)((()=>c[10]||(c[10]=[(0,s.eW)("mdi-file-edit-outline")]))),_:1})])),_:2},1032,["onClick"])):(0,s.Q3)("v-if",!0),A.value?((0,s.uX)(),(0,s.Wv)(ee,{key:1,disabled:"trash"===e.status,class:"rbsm-btn-red",onClick:t=>async function(e){D.value=!0;const t=l.value.find((l=>l.postId===e));t&&(u.value=O.value.confirmDeleteMessage.replace("%s",t.title),z=e)}(e.postId)},{default:(0,s.k6)((()=>[(0,s.bF)(N,null,{default:(0,s.k6)((()=>c[11]||(c[11]=[(0,s.eW)("mdi-file-document-remove-outline")]))),_:1})])),_:2},1032,["disabled","onClick"])):(0,s.Q3)("v-if",!0)])):(0,s.Q3)("v-if",!0)])))),256))],2)]),q.value?((0,s.uX)(),(0,s.CE)("div",W,[(0,s.Lk)("a",{class:"rbsm-pagination-link is-btn",onClick:B},[(0,s.eW)((0,i.v_)(O.value.morePosts)+" ",1),(0,s.bo)((0,s.bF)(N,null,{default:(0,s.k6)((()=>c[12]||(c[12]=[(0,s.eW)("mdi-arrow-right-thin")]))),_:1},512),[[a.aG,!r.value]]),(0,s.bo)((0,s.bF)(N,{class:"rbsm-loading-icon"},{default:(0,s.k6)((()=>c[13]||(c[13]=[(0,s.eW)(" mdi-loading ")]))),_:1},512),[[a.aG,r.value]])])])):(0,s.Q3)("v-if",!0)])):(0,s.Q3)("v-if",!0)])}}}),M={name:"userPosts",components:{userPostsContent:X},setup(){const e=rbGlobalSubmissionSettings.translate,l=rbGlobalSubmissionSettings.loginUrl,t=rbGlobalSubmissionSettings.registerURL,a=(0,c.KR)(!1),i=(0,c.KR)(""),o=(0,c.KR)(""),n=(0,c.KR)(""),r=(0,c.KR)(""),u=(0,c.KR)(!1),d=l=>e[l]||l,v=()=>{const e=encodeURIComponent(window.location.href);window.location.href=`${l}?redirect_to=${e}`};return(0,s.sV)((()=>{(()=>{a.value=rbsmUserPostsData?.isUserLogged??0;const e=rbsmUserPostsData?.postManagerSettings?.user_profile?.login_action_choice??"show_login_message";rbsmUserPostsData?.isUserLogged||("show_login_message"===e?(u.value=!0,i.value=rbsmUserPostsData?.postManagerSettings?.user_profile?.user_posts_required_login_title??d("userPostsRequiredLoginTitlePattern"),o.value=rbsmUserPostsData?.postManagerSettings?.user_profile?.user_posts_required_login_message??d("userPostsRequiredLoginMessagePattern"),n.value=rbsmUserPostsData?.postManagerSettings?.custom_login_and_registration?.custom_login_button_label??d("login"),r.value=rbsmUserPostsData?.postManagerSettings?.custom_login_and_registration?.custom_registration_button_label??d("register")):v())})()})),{isRenderUI:a,translate:e,requiredLoginTitle:i,requiredLoginDesc:o,loginLinkLabel:n,registerLinkLabel:r,registerURL:t,loginURL:l,showLoginMessage:u,redirectToLogin:v,redirectToRegister:()=>{window.location.href=t}}}},q=(0,t(6262).A)(M,[["render",function(e,l,t,a,c,d){const v=(0,s.g2)("v-icon"),m=(0,s.g2)("userPostsContent");return a.isRenderUI?((0,s.uX)(),(0,s.Wv)(m,{key:1})):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[a.showLoginMessage?((0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("span",n,[(0,s.bF)(v,null,{default:(0,s.k6)((()=>l[2]||(l[2]=[(0,s.eW)("mdi-lock-outline")]))),_:1})]),(0,s.Lk)("h2",r,(0,i.v_)(a.requiredLoginTitle),1),(0,s.Lk)("p",u,(0,i.v_)(a.requiredLoginDesc),1),(0,s.Lk)("button",{class:"rbsm-btn-primary is-btn",onClick:l[0]||(l[0]=(...e)=>a.redirectToLogin&&a.redirectToLogin(...e))},(0,i.v_)(a.loginLinkLabel),1),""!==a.registerURL?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"rbsm-btn-primary is-btn is-outlined",onClick:l[1]||(l[1]=(...e)=>a.redirectToRegister&&a.redirectToRegister(...e))},(0,i.v_)(a.registerLinkLabel),1)):(0,s.Q3)("v-if",!0)])):(0,s.Q3)("v-if",!0)],64))}]]);t(2382);var A=t(4825),G=t(1050),D=t(2041),O=t(1130);const Q=(0,A.$N)({icons:{defaultSet:"mdi",aliases:G.z,sets:{mdi:G.r}},components:D,directives:O}),N=(0,a.Ef)(q);document.querySelector("#rbsm-user-posts")&&(N.use(Q),N.mount("#rbsm-user-posts"))},8794:(e,l,t)=>{t.d(l,{A:()=>$});var a=t(641),s=t(33),i=t(953),o=t(3751),n=t(2508),r=t(3117),u=t.n(r);const c=["data-callback","data-sitekey"],d={name:"recaptchaContent",props:{siteKey:{type:String,required:!0},shouldLoadRecaptcha:{type:Boolean,required:!1}},setup(e,{emit:l}){const t=(0,i.KR)(null),s=rbGlobalSubmissionSettings.translate;(0,a.wB)((()=>e.shouldLoadRecaptcha),(e=>{e&&o()})),(0,a.sV)((()=>{e.shouldLoadRecaptcha&&o()}));const o=()=>{if(document.getElementById("recaptcha-script"))n().then((()=>r()));else{const e=document.createElement("script");e.id="recaptcha-script",e.src="https://www.google.com/recaptcha/api.js?render=explicit",e.onload=()=>n().then((()=>r())),e.async=!0,e.defer=!0,document.head.appendChild(e)}},n=()=>new Promise(((e,l)=>{const t=setInterval((()=>{void 0!==grecaptcha.render&&(clearInterval(t),e())}),50);setTimeout((()=>{clearInterval(t),l(s["recaptchaLoadFailed"]||"recaptchaLoadFailed")}),5e3)})),r=()=>{""!==e.siteKey&&(t.value=grecaptcha.render(document.querySelector(".g-recaptcha"),{sitekey:e.siteKey,callback:u,"expired-callback":c}))},u=e=>{l("verified",e)},c=()=>{l("data-expired-callback")};return{recaptchaInstance:t,loadRecaptcha:o,resetRecaptcha:()=>{null!==t.value&&grecaptcha.reset(t.value)},onVerify:u}}},v=(0,t(6262).A)(d,[["render",function(e,l,t,s,i,o){return(0,a.uX)(),(0,a.CE)("div",{"data-callback":s.onVerify,"data-sitekey":t.siteKey,class:"g-recaptcha"},null,8,c)}]]),m={key:0,class:"text-error"},b={class:"rbsm-form-main rbsm-form-list"},g={key:0,class:"rbsm-input-wrap"},p={class:"rbsm-input-title"},_={class:"rbsm-input-hind"},f={key:1,class:"rbsm-input-wrap"},k={class:"rbsm-input-title"},h={class:"rbsm-input-hind"},y={key:2,class:"rbsm-input-wrap"},R={class:"rbsm-input-title"},S={class:"rbsm-input-hind"},L={key:3,class:"rbsm-input-wrap"},w={class:"rbsm-input-title"},F={class:"rbsm-input-hind"},K={class:"rbsm-input-wrap"},C={class:"rbsm-input-title"},E={class:"rbsm-input-hind"},V={id:"editorContainer"},x={id:"richEditorContainer"},P={class:"rbsm-form-sidebar"},T={class:"rbsm-form-list rbsm-form-border-wrap"},U={key:0,class:"rbsm-input-wrap"},I={class:"rbsm-input-title"},W={class:"rbsm-input-hind"},X={key:1,class:"rbsm-input-wrap"},M={class:"rbsm-input-title"},q={class:"rbsm-input-hind"},A={key:2,class:"rbsm-input-wrap"},G={class:"rbsm-input-title"},D={class:"rbsm-input-hind"},O={class:"rbsm-input-wrap"},Q={class:"rbsm-input-title"},N={class:"rbsm-form-footer rbsm-form-list"},j={class:"rbsm-from-submit"},z=["disabled"],$=Object.assign({name:"submissionFormContent"},{__name:"submissionFormContent",emits:["change-tab-label-to-edit"],setup(e,{emit:l}){const t=l,r=(0,i.KR)([]),c=(0,i.KR)(""),d=(0,i.KR)(""),$=(0,i.KR)(""),J=(0,i.KR)([]),B=(0,i.KR)(""),H=(0,i.KR)(""),Y=(0,i.KR)(!1),Z=(0,i.KR)(""),ee=(0,i.KR)([]),le=(0,i.KR)([]),te=(0,i.KR)([]),ae=(0,i.KR)(""),se=(0,i.KR)(""),ie=(0,i.KR)(100),oe=(0,i.KR)(null),ne=(0,i.KR)(""),re=(0,i.KR)(""),ue=(0,i.KR)(""),ce=(0,i.KR)(""),de=(0,i.KR)(0),ve=(0,i.KR)(""),me=(0,i.KR)(""),be=(0,i.KR)([]),ge=(0,i.KR)(!1),pe=(0,i.KR)(!1),_e=(0,i.KR)(!1),fe=(0,i.KR)(null),ke=(0,i.KR)(!1),he=(0,i.KR)([]),ye=(0,i.KR)(!1),Re=(0,i.KR)(!1),Se=(0,i.KR)(!1),Le=(0,i.KR)([]),we=(0,i.KR)(""),Fe=(0,i.KR)(!1),Ke=(0,i.KR)(""),Ce=(0,i.KR)(!1),Ee=(0,i.KR)(!1),Ve=(0,i.KR)(!1),xe=(0,i.KR)(!1),Pe=(0,i.KR)(!1),Te=(0,i.KR)(!1),Ue=(0,i.KR)(!0),Ie=(0,i.KR)(!1),We=(0,i.KR)(!1),Xe=(0,i.KR)(!1),Me=(0,i.KR)(void 0),qe=(0,i.KR)("rbsm-failed-snackbar"),Ae=(0,i.KR)(!1),Ge=(0,i.KR)(rbGlobalSubmissionSettings.translate),De=(0,i.KR)(rbGlobalSubmissionSettings.translate.chooseFeaturedImage),Oe=(0,i.KR)(rbGlobalSubmissionSettings.translate.submitPostLabel),Qe=(0,i.KR)(null),Ne=(0,i.KR)(null),je=(0,i.KR)(""),ze=(0,i.KR)(null),$e=(0,i.KR)(null),Je=(0,i.KR)(null),Be=(0,i.KR)(null),He=(0,i.KR)(!1);let Ye=null,Ze=null,el=!1,ll="",tl="",al=!1,sl=!0,il=!1,ol=rbGlobalSubmissionSettings.isRTL,nl={title:(0,i.KR)(!0),excerpt:(0,i.KR)(!0),userName:(0,i.KR)(!0),userEmail:(0,i.KR)(!0),challenge:e=>!!e||rbGlobalSubmissionSettings.translate.challengeRequiredInput};function rl(e){return Ge.value[e]||e}function ul(e,l){if(!el)return null;const t=localStorage.getItem(e);if(null===t)return l;try{return JSON.parse(t)}catch(e){return t}}function cl(e){el&&localStorage.removeItem(e)}function dl(){const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.style.display="none",e.addEventListener("change",(e=>{const l=e.target.files[0];if(l){const e=new FileReader;e.onload=e=>{const l=e.target.result;Ye.root.focus;const t=Ye.getSelection();if(t){const e=t.index;e>=0&&e<=Ye.getLength()?vl(l)?Ye.getContents().ops.reduce(((e,l)=>l.insert&&l.insert.image?e+1:e),0)<de.value?Ye.insertEmbed(e,"image",l):hl({title:Ge.value.maxAmountImages,message:Ge.value.maxAmountImagesMessage.replace("%s",de.value),icon:"mdi-alert"}):hl({title:Ge.value.imageSizeLimitTitle,message:Ge.value.imageSizeLimitMessage.replace("%s",ie.value),icon:"mdi-alert"}):console.warn(Ge.value.invalidIndexToInsertImage)}else console.warn(Ge.value.noSelection)},e.readAsDataURL(l)}})),document.body.appendChild(e),e.click(),document.body.removeChild(e)}function vl(e){return 1024*ie.value>=3*((l=e).length-l.indexOf(",")-1)/4;var l}async function ml(){const e=await async function(){let e=[];if(null!==Ne.value){const l=await Ne.value.validate();!0!==nl.title&&0!==l.length&&e.push(Ge.value.title)}if(null!==ze.value){const l=await ze.value.validate();!0!==nl.excerpt&&0!==l.length&&e.push(Ge.value.excerpt)}if(null!==$e.value){const l=await $e.value.validate();!0!==nl.userName&&0!==l.length&&e.push(Ge.value.userName)}if(null!==Je.value){const l=await Je.value.validate();!0!==nl.userEmail&&0!==l.length&&e.push(Ge.value.userEmail)}if(e.length>0){let l="";return l=1===e.length?e[0]+" "+Ge.value.isMissing:e.join(", ")+" "+Ge.value.areMissing,{status:!1,message:l}}return{status:!0}}();if(!e.status)return l=e.message,qe.value="rbsm-failed-snackbar",ue.value=l,void(Y.value=!0);var l;if(ke.value&&!sl)return void kl(Ge.value.verifyFailedRecaptchaMessage);if(ye.value&&Ue.value&&(Ie.value=!0),Ue.value)return;if(!sl)return void kl(Ge.value.verifyFailedRecaptchaMessage);if(!(Ye.root.querySelectorAll("img").length<=de.value))return void hl({title:Ge.value.maxAmountImages,message:Ge.value.maxAmountImagesMessage.replace("%s",de.value),icon:"mdi-alert"});if(!function(){const e=Ye.getContents().ops.filter((e=>e?.insert?.image));for(let l=0;l<e.length;l++)if(!vl(e[l]?.insert?.image))return!1;return!0}())return je.value="is-error",void hl({title:Ge.value.imageSizeLimitTitle,message:Ge.value.imageSizeLimitMessage.replace("%s",ie.value),icon:"mdi-alert"});We.value=!0,xe.value=!0,Oe.value=al?Ge.value.updating:Ge.value.submitting;const t=fl(),a={title:c.value,excerpt:$.value,categories:"string"==typeof be.value||Number.isInteger(be.value)?[be.value]:be.value,tags:"string"==typeof ee.value?[ee.value]:ee.value,content:d.value,formId:rbSubmissionForm.formId,customFieldsData:t,postId:Ze,isRemoveFeaturedImage:Ve.value,userName:ae.value,userEmail:re.value,recaptchaResponse:tl},s=null===Ze?"rbsm_submit_post":"rbsm_update_post",i=new FormData;i.append("image",fe.value),i.append("action",s),i.append("excerpt",a.excerpt),i.append("content",a.content),i.append("formId",a.formId),i.append("customFieldsData",JSON.stringify(a.customFieldsData)),a.tags.forEach((function(e){i.append("tags[]",e)})),a.categories.forEach((function(e){i.append("categories[]",e)})),i.append("postId",a.postId),i.append("isRemoveFeaturedImage",a.isRemoveFeaturedImage),i.append("userName",a.userName),i.append("userEmail",a.userEmail),i.append("recaptchaResponse",a.recaptchaResponse),i.append("title",a.title),i.append("_nonce",rbGlobalSubmissionSettings.nonce);try{const e=await fetch(rbGlobalSubmissionSettings.ajaxUrl,{headers:{"X-WP-Nonce":rbGlobalSubmissionSettings.nonce},method:"POST",body:i}),l=await e.json();l.success?(bl(),function(){let e=al?Ge.value.updatePostSuccessMessage.replace("%s",c.value):Ge.value.submitPostSuccessMessage.replace("%s",c.value);const l={title:al?Ge.value.updatePostSuccessTitle:Ge.value.submitPostSuccessTitle,message:e,icon:"mdi-content-save-check-outline"};je.value="is-success",hl(l)}(),""!==le.value.general_setting.url_direction&&(il=!0),al||cl(Ke.value),el=!1,He.value=!1):(bl(),kl(l.data),Fl(),ke.value&&(sl=!1))}catch(e){bl(),kl(e),Fl(),ke.value&&(sl=!1)}}function bl(){We.value=!1,xe.value=!1,Oe.value=al?Ge.value.updatePostLabel:Ge.value.submitPostLabel}function gl(){const e=fe.value?fe.value:null;if(e){Ve.value=!1;const l=new FileReader;l.onload=e=>{oe.value=e.target.result,pl()},l.onerror=e=>{console.log(e)},l.readAsDataURL(e)}else oe.value=null;pl()}function pl(){De.value=""===oe.value||null===oe.value?Ge.value.chooseFeaturedImage:Ge.value.editFeaturedImage}function _l(e){te.value.forEach(((l,t)=>{l.field_type=l.field_type.toLowerCase();const a=e.findIndex((e=>e.type===l.field_type));-1!==a&&(he.value[t+"_"+l.field_type]=e[a].content,e.splice(a,1))}))}function fl(){const e=[];return te.value.forEach(((l,t)=>{l.field_type=l.field_type.toLowerCase(),e.push({content:he.value[t+"_"+l.field_type],label:l.custom_field_label,name:l.custom_field_name,type:l.field_type})})),e}function kl(e){const l={title:al?Ge.value.updatePostFailedTitle:Ge.value.submitPostFailedTitle,message:e,icon:"mdi-alert-circle-outline",className:"is-error"};je.value="is-error",hl(l)}function hl({title:e,message:l,icon:t}){Z.value=e,se.value=l,ge.value=!0,H.value=t}function yl(){ge.value=!1,il&&(il=!1,window.location.href=le.value.general_setting.url_direction)}function Rl(){oe.value=null,pl(),Ve.value=!0}function Sl(e){sl=!0,tl=e}function Ll(){sl=!1}function wl(){ne.value===ve.value?(Ie.value=!1,Ue.value=!1,Ae.value=!1,ml()):(Ue.value=!0,Ae.value=!0)}function Fl(){null!==Be.value&&Be.value.resetRecaptcha()}function Kl(){Ae.value=!1,ne.value=""}function Cl(){be.value=[]}function El(){ee.value=[]}return(0,a.sV)((()=>{Le.value["1_col"]="rbsm-form-col1",Le.value["2_cols"]="rbsm-form-col2",Le.value[""]="",function(){const e=rbSubmissionForm?.formSettings??void 0;void 0!==e?(le.value=JSON.parse(e.data),de.value=le.value?.form_fields?.max_images??3,ie.value=le.value?.form_fields?.max_image_size??100,B.value=le.value?.form_fields?.editor_type??"rich_editor",B.value=B.value.toLowerCase().replace(" ","_"),Se.value="disable"!==le.value?.form_fields?.post_title,Xe.value="disable"!==le.value?.form_fields?.featured_image?.status,Fe.value="disable"!==le.value?.form_fields?.tagline,Ce.value="disable"!==le.value?.form_fields?.user_name,Ee.value="disable"!==le.value?.form_fields?.user_email,Pe.value=le.value?.allow_categories??!0,_e.value=le.value?.allow_tags??!0,pe.value=le.value?.form_fields?.tags?.allow_add_new_tag??!1,Te.value=le.value?.form_fields?.categories?.multiple_categories??!1,Re.value=le.value?.form_fields?.tags?.multiple_tags??!1,te.value=le.value?.form_fields?.custom_field??[],ke.value=le.value?.security_fields?.recaptcha?.status??!1,ll=le.value?.security_fields?.recaptcha?.recaptcha_site_key??"",ye.value=le.value?.security_fields?.challenge?.status??!1,me.value=le.value?.security_fields?.challenge?.question??"",ve.value=le.value?.security_fields?.challenge?.response??"",we.value=le.value?.general_setting?.form_layout_type??"2_cols",ce.value=Le.value[we.value]??"",sl=!ke.value,Ue.value=ye.value,rbSubmissionForm?.isUserLogged&&(Ce.value=!1,Ee.value=!1)):console.log("Error: Cannot find submission form setting.")}(),Pe.value&&(rbSubmissionForm?.categories??[]).forEach((e=>{J.value.push({title:e.name,value:e.term_id})})),_e.value&&(rbSubmissionForm?.tags??[]).forEach((e=>{r.value.push(e.name)})),function(){const e=ol?"rtl":"ltr";n.Ay.register("modules/htmlEditButton",u()),Ye=new n.Ay("#editor",{theme:"snow",placeholder:Ge.value.textAreaFormPlaceholder,modules:{htmlEditButton:{debug:!1,msg:"Edit the content in HTML format",okText:"Ok",cancelText:"Cancel",buttonHTML:'<svg viewBox="0 0 24 24" xmlns="https://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>',buttonTitle:"Show HTML source",syntax:!1,prependSelector:"div#myelement",editorModules:{}},toolbar:{container:"rich_editor"===B.value?[[{header:[2,3,4,5,6,!1]}],de.value>0?["image","bold","italic","underline","strike"]:["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","blockquote","code-block"],[{align:[]}],[{indent:"-1"},{indent:"+1"}],[{direction:e}]]:[],handlers:{image:dl}}}}),Ye.on("text-change",(()=>{d.value=Ye.root.innerHTML}))}(),function(){if(Array.isArray(rbGlobalSubmissionSettings?.userPost)&&rbGlobalSubmissionSettings.userPost.length>0){He.value=!0;const e=rbGlobalSubmissionSettings.userPost;Ze=e[0]?.post_id??null,c.value=Se.value?e[0]?.title:"",$.value=Fe.value?e[0]?.excerpt:"",d.value=e[0]?.content,d.value=function(e){let l=e.replace(/<p>\s*(<br\s*\/?>\s*)*<\/p>/g,"");return l=l.replace(/<figure[^>]*>(.*?)<\/figure>/g,"$1"),l.trim()}(d.value??""),be.value=Array.isArray(e[0]?.categories)?e[0].categories.map((e=>e)):[],ee.value=Array.isArray(e[0]?.tags)?e[0].tags.map((e=>e)):[],Ze=e[0]?.post_id||null,ae.value=Ce.value?e[0]?.user_name:"",re.value=Ee.value?e[0]?.user_email:"",function(e,l){if(oe.value=(t=e,[...t.matchAll(/<img[^>]+src="([^">]+)"/g)].map((e=>e[1])))[0]??"",""!==oe.value){fe.value={};const e=/\/([^\/]+\.[a-zA-Z]{2,})$/,t=oe.value.match(e);t&&(fe.value.name=t[1],fe.value.size=l)}var t}(e[0]?.featured_image??"",e[0]?.featured_image_size??0),_l(e[0]?.custom_fields??[]),Ye.root.innerHTML=d.value,Oe.value=Ge.value.updatePostLabel,al=!0,t("change-tab-label-to-edit")}else Ke.value="rbsm_client_user_post",Me.value=ul(Ke.value,void 0),function(){let e;try{if(e=ul(Ke.value,void 0),null==e)return}catch(e){return void cl(Ke.value)}Array.isArray(e?.categories??"")||(e.categories=[e.categories]),c.value=e?.title??"",$.value=e?.excerpt??"",d.value=e?.content??"",be.value=Array.isArray(e?.categories)?e.categories.map((e=>e)):[],ee.value=Array.isArray(e?.tags)?e.tags.map((e=>e)):[],ae.value=e?.userName??"",re.value=e?.userEmail??"",_l(e.custom_fields),Ye.root.innerHTML=d.value,null!==Ze&&(Oe.value=Ge.value.updatePostLabel,al=!0)}();pl()}(),nl.title="require"!==le.value?.form_fields?.post_title||(e=>!!e||Ge.value.titleRequiredRule),nl.excerpt="require"!==le.value?.form_fields?.tagline||(e=>!!e||Ge.value.excerptRequiredRule),nl.userName="require"!==le.value?.form_fields?.user_name||(e=>!!e||Ge.value.userNameRequiredRule),nl.userEmail="require"!==le.value?.form_fields?.user_email||(e=>!!e||Ge.value.userEmailRequiredRule),function(){const e=setInterval((()=>{try{!function(){const e={title:c.value,excerpt:$.value,content:d.value,categories:"string"==typeof be.value?[be.value]:be.value,tags:"string"==typeof ee.value?[ee.value]:ee.value,userName:ae.value,userEmail:re.value,custom_fields:fl()};var l,t;l=Ke.value,t=JSON.stringify(e),el&&localStorage.setItem(l,"string"==typeof t?t:JSON.stringify(t))}()}catch(l){clearInterval(e)}}),5e3)}()})),el=function(){let e;try{return e=window.localStorage,e.setItem("__rbStorageSet","x"),e.getItem("__rbStorageSet"),e.removeItem("__rbStorageSet"),!0}catch(e){return!1}}(),window.addEventListener("beforeunload",(function(e){if(He.value)return e.preventDefault(),e.returnValue="",""})),(e,l)=>{const t=(0,a.g2)("v-icon"),n=(0,a.g2)("v-snackbar"),u=(0,a.g2)("v-card-title"),le=(0,a.g2)("v-card-text"),ie=(0,a.g2)("v-btn"),de=(0,a.g2)("v-card-actions"),ve=(0,a.g2)("v-card"),ye=(0,a.g2)("v-dialog"),Le=(0,a.g2)("v-text-field"),we=(0,a.g2)("v-textarea"),Ke=(0,a.g2)("v-autocomplete"),Ve=(0,a.g2)("v-combobox"),Ue=(0,a.g2)("v-img"),Me=(0,a.g2)("v-file-input"),Ge=(0,a.g2)("v-form"),He=(0,a.g2)("v-progress-circular"),Ye=(0,a.g2)("v-container");return(0,a.uX)(),(0,a.Wv)(Ye,{class:"rbsm-snackbar-container"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:Y.value,"onUpdate:modelValue":l[0]||(l[0]=e=>Y.value=e),class:(0,s.C4)([qe.value]),timeout:3e3},{default:(0,a.k6)((()=>[(0,a.bF)(t,{class:"pr-2"},{default:(0,a.k6)((()=>l[13]||(l[13]=[(0,a.eW)("mdi-alert-outline")]))),_:1}),(0,a.eW)(" "+(0,s.v_)(ue.value),1)])),_:1},8,["modelValue","class"]),(0,a.bF)(ye,{modelValue:ge.value,"onUpdate:modelValue":l[1]||(l[1]=e=>ge.value=e),class:(0,s.C4)(["rbsm-popup-box",je.value]),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(ve,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(t,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(H.value?H.value:e.mdiAlertCircleCheckOutline),1)])),_:1}),(0,a.eW)(" "+(0,s.v_)(Z.value),1)])),_:1}),(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(se.value),1)])),_:1}),(0,a.bF)(de,null,{default:(0,a.k6)((()=>[(0,a.bF)(ie,{text:rl("ok"),onClick:yl},null,8,["text"])])),_:1})])),_:1})])),_:1},8,["modelValue","class"]),(0,a.bF)(ye,{modelValue:Ie.value,"onUpdate:modelValue":[l[3]||(l[3]=e=>Ie.value=e),Kl],class:"rbsm-popup-box"},{default:(0,a.k6)((()=>[(0,a.bF)(ve,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(t,null,{default:(0,a.k6)((()=>l[14]||(l[14]=[(0,a.eW)("mdi-progress-question")]))),_:1}),(0,a.eW)(" "+(0,s.v_)(rl("challengeTitle")),1)])),_:1}),(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(rl("challengeLabel"))+" "+(0,s.v_)(me.value),1)])),_:1}),(0,a.bF)(Le,{modelValue:ne.value,"onUpdate:modelValue":l[2]||(l[2]=e=>ne.value=e),rules:[(0,i.R1)(nl).challenge],label:"Answer",variant:"outlined"},null,8,["modelValue","rules"]),Ae.value?((0,a.uX)(),(0,a.CE)("span",m,(0,s.v_)(rl("invalidAnswer")),1)):(0,a.Q3)("v-if",!0),(0,a.bF)(de,null,{default:(0,a.k6)((()=>[(0,a.bF)(ie,{class:"is-btn",onClick:wl},{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(rl("submit")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Lk)("div",{class:(0,s.C4)(["rbsm-form-wrap",ce.value])},[(0,a.Lk)("div",b,[Ce.value?((0,a.uX)(),(0,a.CE)("div",g,[(0,a.Lk)("h2",p,(0,s.v_)(rl("yourName")),1),(0,a.Lk)("p",_,(0,s.v_)(rl("hindYourName")),1),(0,a.bF)(Le,{ref_key:"userNameTextRef",ref:$e,modelValue:ae.value,"onUpdate:modelValue":l[4]||(l[4]=e=>ae.value=e),label:rl("yourName"),rules:[(0,i.R1)(nl).userName],variant:"outlined"},null,8,["modelValue","label","rules"])])):(0,a.Q3)("v-if",!0),Ee.value?((0,a.uX)(),(0,a.CE)("div",f,[(0,a.Lk)("h2",k,(0,s.v_)(rl("yourEmail")),1),(0,a.Lk)("p",h,(0,s.v_)(rl("hindYourEmail")),1),(0,a.bF)(Le,{ref_key:"userEmailTextRef",ref:Je,modelValue:re.value,"onUpdate:modelValue":l[5]||(l[5]=e=>re.value=e),label:rl("yourEmail"),rules:[(0,i.R1)(nl).userEmail],variant:"outlined"},null,8,["modelValue","label","rules"])])):(0,a.Q3)("v-if",!0),Se.value?((0,a.uX)(),(0,a.CE)("div",y,[(0,a.Lk)("h2",R,(0,s.v_)(rl("addPostTitle")),1),(0,a.Lk)("p",S,(0,s.v_)(rl("hindPostTitle")),1),(0,a.bF)(Le,{ref_key:"titleTextRef",ref:Ne,modelValue:c.value,"onUpdate:modelValue":l[6]||(l[6]=e=>c.value=e),label:rl("addPostTitle"),rules:[(0,i.R1)(nl).title],"validate-on-blur":!0,variant:"outlined"},null,8,["modelValue","label","rules"])])):(0,a.Q3)("v-if",!0),Fe.value?((0,a.uX)(),(0,a.CE)("div",L,[(0,a.Lk)("h2",w,(0,s.v_)(rl("addPostExcerpt")),1),(0,a.Lk)("p",F,(0,s.v_)(rl("hindPostExcerpt")),1),(0,a.bF)(Le,{ref_key:"excerptTextRef",ref:ze,modelValue:$.value,"onUpdate:modelValue":l[7]||(l[7]=e=>$.value=e),label:rl("addPostExcerpt"),rules:[(0,i.R1)(nl).excerpt],variant:"outlined"},null,8,["modelValue","label","rules"])])):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",K,[(0,a.Lk)("h2",C,[(0,a.bF)(t,null,{default:(0,a.k6)((()=>l[15]||(l[15]=[(0,a.eW)("mdi-pencil-ruler-outline")]))),_:1}),(0,a.eW)(" "+(0,s.v_)(rl("addPostContent")),1)]),(0,a.Lk)("p",E,(0,s.v_)(rl("hindPostContent")),1),(0,a.Lk)("div",V,[(0,a.bo)((0,a.Lk)("div",x,l[16]||(l[16]=[(0,a.Lk)("div",{id:"editor"},null,-1)]),512),[[o.aG,"rich_editor"===B.value]]),"raw_html"===B.value?((0,a.uX)(),(0,a.Wv)(we,{key:0,id:"rbTextAreaEditor",modelValue:d.value,"onUpdate:modelValue":l[8]||(l[8]=e=>d.value=e),label:rl("textAreaFormPlaceholder"),rows:"25",variant:"outlined"},null,8,["modelValue","label"])):(0,a.Q3)("v-if",!0)])])]),(0,a.Lk)("div",P,[(0,a.Lk)("div",T,[Pe.value?((0,a.uX)(),(0,a.CE)("div",U,[(0,a.Lk)("h2",I,(0,s.v_)(rl("titlePostCategories")),1),(0,a.Lk)("p",W,(0,s.v_)(rl("hindPostCategories")),1),(0,a.bF)(Ke,{modelValue:be.value,"onUpdate:modelValue":l[9]||(l[9]=e=>be.value=e),items:J.value,label:rl("choosePostCategories"),multiple:Te.value,title:c.value,chips:"",clearable:"",variant:"outlined","onClick:clear":Cl},null,8,["modelValue","items","label","multiple","title"])])):(0,a.Q3)("v-if",!0),_e.value?((0,a.uX)(),(0,a.CE)("div",X,[(0,a.Lk)("h2",M,(0,s.v_)(rl("titlePostTags")),1),(0,a.Lk)("p",q,(0,s.v_)(rl("hindPostTags")),1),pe.value?((0,a.uX)(),(0,a.Wv)(Ve,{key:0,modelValue:ee.value,"onUpdate:modelValue":l[10]||(l[10]=e=>ee.value=e),items:r.value,label:rl("addPostTags"),multiple:Re.value,chips:"",clearable:"","onClick:clear":El,variant:"outlined"},null,8,["modelValue","items","label","multiple"])):(0,a.Q3)("v-if",!0),pe.value?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.Wv)(Ke,{key:1,modelValue:ee.value,"onUpdate:modelValue":l[11]||(l[11]=e=>ee.value=e),items:r.value,label:rl("choosePostTags"),multiple:Re.value,chips:"",clearable:"",variant:"outlined"},null,8,["modelValue","items","label","multiple"]))])):(0,a.Q3)("v-if",!0),Xe.value?((0,a.uX)(),(0,a.CE)("div",A,[(0,a.Lk)("h2",G,[(0,a.bF)(t,null,{default:(0,a.k6)((()=>l[17]||(l[17]=[(0,a.eW)("mdi-image-outline")]))),_:1}),(0,a.eW)(" "+(0,s.v_)(rl("titlePostFeatured")),1)]),(0,a.Lk)("p",D,(0,s.v_)(rl("hindPostFeatured")),1),(0,a.bF)(Ge,{ref_key:"form",ref:Qe},{default:(0,a.k6)((()=>[(0,a.Q3)(" Image preview "),oe.value?((0,a.uX)(),(0,a.Wv)(Ue,{key:0,src:oe.value},null,8,["src"])):(0,a.Q3)("v-if",!0),(0,a.bF)(Me,{modelValue:fe.value,"onUpdate:modelValue":l[12]||(l[12]=e=>fe.value=e),label:De.value,"show-size":1e3,accept:"image/*",density:"compact","prepend-icon":"mdi-image-plus-outline",variant:"outlined",onChange:gl,"onClick:clear":Rl},null,8,["modelValue","label"])])),_:1},512)])):(0,a.Q3)("v-if",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(te.value,((e,i)=>((0,a.uX)(),(0,a.CE)("div",O,[(0,a.Lk)("h2",Q,[(0,a.bF)(t,null,{default:(0,a.k6)((()=>l[18]||(l[18]=[(0,a.eW)("mdi-tag-edit-outline")]))),_:1}),(0,a.eW)(" "+(0,s.v_)(e.custom_field_label),1)]),"text"===e.field_type?((0,a.uX)(),(0,a.Wv)(Le,{key:0,modelValue:he.value[i+"_text"],"onUpdate:modelValue":e=>he.value[i+"_text"]=e,density:"compact",label:"Type anything",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue"])):(0,a.Q3)("v-if",!0),"textarea"===e.field_type?((0,a.uX)(),(0,a.Wv)(we,{key:1,modelValue:he.value[i+"_textarea"],"onUpdate:modelValue":e=>he.value[i+"_textarea"]=e,label:"Message",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue"])):(0,a.Q3)("v-if",!0),"upload"===e.field_type?((0,a.uX)(),(0,a.Wv)(Me,{key:2,modelValue:he.value[i+"_upload"],"onUpdate:modelValue":e=>he.value[i+"_upload"]=e,density:"compact",label:"Upload file",outlined:"",variant:"outlined"},null,8,["modelValue","onUpdate:modelValue"])):(0,a.Q3)("v-if",!0)])))),256))])]),(0,a.Lk)("div",N,[ke.value?((0,a.uX)(),(0,a.Wv)(v,{key:0,ref_key:"recaptchaComponent",ref:Be,shouldLoadRecaptcha:ke.value,siteKey:(0,i.R1)(ll),onVerified:Sl,onDataExpiredCallback:Ll},null,8,["shouldLoadRecaptcha","siteKey"])):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",j,[(0,a.Lk)("button",{disabled:xe.value,class:"rbsm-submit-btn rbsm-btn-primary is-btn",onClick:ml},[(0,a.eW)((0,s.v_)(Oe.value)+" ",1),(0,a.bF)(t,null,{default:(0,a.k6)((()=>l[19]||(l[19]=[(0,a.eW)("mdi-arrow-right-thin")]))),_:1})],8,z),(0,a.bo)((0,a.bF)(He,{indeterminate:"",size:"26"},null,512),[[o.aG,We.value]])])])],2)])),_:1})}}})}},t={};function a(e){var s=t[e];if(void 0!==s)return s.exports;var i=t[e]={id:e,loaded:!1,exports:{}};return l[e](i,i.exports,a),i.loaded=!0,i.exports}a.m=l,e=[],a.O=(l,t,s,i)=>{if(!t){var o=1/0;for(c=0;c<e.length;c++){for(var[t,s,i]=e[c],n=!0,r=0;r<t.length;r++)(!1&i||o>=i)&&Object.keys(a.O).every((e=>a.O[e](t[r])))?t.splice(r--,1):(n=!1,i<o&&(o=i));if(n){e.splice(c--,1);var u=s();void 0!==u&&(l=u)}}return l}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[t,s,i]},a.n=e=>{var l=e&&e.__esModule?()=>e.default:()=>e;return a.d(l,{a:l}),l},a.d=(e,l)=>{for(var t in l)a.o(l,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:l[t]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={818:0};a.O.j=l=>0===e[l];var l=(l,t)=>{var s,i,[o,n,r]=t,u=0;if(o.some((l=>0!==e[l]))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(r)var c=r(a)}for(l&&l(t);u<o.length;u++)i=o[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},t=self.webpackChunkeasy_post_submission=self.webpackChunkeasy_post_submission||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))})(),a.O(void 0,[121],(()=>a(1453))),a.O(void 0,[121],(()=>a(3134))),a.O(void 0,[121],(()=>a(9459))),a.O(void 0,[121],(()=>a(8924)));var s=a.O(void 0,[121],(()=>a(9878)));s=a.O(s)})();